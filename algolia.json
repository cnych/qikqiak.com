[
    {
        "title": "About me",
        "uri": "page/about",
        "content": "Nothing world place Persistence  Talent will not  nothing common unsuccessful men talent  Genius will not  unrewarded genius almost proverb  Education will not  world full educated derelicts  Persistence Determination alone omnipotent  slogan  Press On  solved will always solve problems human race",
        "objectID": "page/about",
        "subtitle": "Why you'd want to go on a date with me",
        "comments": false,
        "unrelated": true,
        "nopager": true
    },
    {
        "title": "Archive",
        "uri": "page/archive",
        "content": "kubernetes devops python golang         Kubernetes Docker    Kubernetes        Kubernetes Downward API           kubernetes   ConfigMap   Secrets            Kubernetes   golang    Docker          YAML      Kubernetes Deployment Kubernetes Helm     kubernetes PodPreset      kubernetes dashboard           Prometheus  AlertManager   Kubernetes    Prometheus2 0 kubernetes        kubernetes    socket io        kubernetes      docker     Harbor kubernetes dashboard              kubernetes    Kubernetes Deployment     Kubernetes  Prometheus       Python TDD      Python         TDD      Python         Python           django2 0 10      Django  STATICROOT  STATICFILESDIRS    django      django url         django admin   action django      inclusion_tag       Python      PDF       Python        python  csv      webpack3             Hugo    Gitment      Hugo    Algolia        git log      HTTPS  awk      Nginx     301",
        "objectID": "page/archive",
        "comments": false,
        "unrelated": true,
        "nopager": true
    },
    {
        "title": "django下url函数的用法",
        "uri": "post/django下url函数的用法 ",
        "content": "Django           url  django conf urls defaults           10                Django        Templates         urlpatterns                     Templates                        urlpatterns                                           url            urlpatterns             Templates                  url      urlpatterns             urlpatterns   patterns      r  article    news_index       Templates  html                 10                Templates    10      a                     urlpatterns   patterns      r  news    news_index              Templates    10    html                                             a                url          urlpatterns             urlpatterns   patterns     url r  article    newsindex   name  newsindex      Templates  html          urlpatterns    Template              url           urlpatterns         name    url r  article    newsindex   name  newsindex    Templates                     name        urlpatterns         name                          Templates        views              url                 HttpResponseRedirect   article     urlpatterns             views                url       HttpResponseRedirect reverse  news_index       Template              urlpatterns                r    P d 4     P d 1 2       news_list                      http   xxxx com 2014 06         urlpatterns          url r    P d 4     P d 1 2       newslist  name  newsarchive     Templates              url         templates            2014 06     2014  06                                2014 06                        views                 reverse  news_archive  kwargs   year  2014  month  06                 2014 06",
        "objectID": "post/django下url函数的用法 ",
        "date": "2014-06-13T00:00:00.000Z",
        "publishdate": "2014-06-13T00:00:00.000Z",
        "slug": "django-url-function-usage",
        "tags": [
            "django",
            "url"
        ],
        "category": "django",
        "gitcomment": true
    },
    {
        "title": "django国际化问题",
        "uri": "post/django国际化问题",
        "content": "django         django1 6 5                                                django1 6             1   settings py   LANGUAGE_CODE    en us  TIME_ZONE    UTC  USE_I18N   True USE_L10N   True USE_TZ   True LANGUAGES       cn              en    English      LOCALE_PATHS     os path join BASEDIR   locale          LOCALEPATHS   MIDDLEWARE_CLASSES      django contrib sessions middleware SessionMiddleware      django middleware locale LocaleMiddleware     django middleware common CommonMiddleware    django middleware csrf CsrfViewMiddleware    django contrib auth middleware AuthenticationMiddleware    django contrib messages middleware MessageMiddleware    django middleware clickjacking XFrameOptionsMiddleware     TEMPLATECONTEXTPROCESSORS      django contrib auth context_processors auth      django core context_processors i18n     django core context_processors request    django core context_processors static     2           django admin py makemessages  l en   django admin py makemessages  l cn                       locale       cn en          LC_MESSAGES           django po           msgid  Chinese  msgstr            msgid               msgstr                                            po         mo   django admin py compilemessages 3                        load i18n                trans           trans  About          trans  Jobs          trans  Login     4                                        csrf_token       lang LANGUAGES       lang 1       endfor    function selectdo obj    str     i18n setlang    myform   document getElementById  langform    myform method    POST   myform action   str  myform submit             url      i18n setlang         django views i18n set_language",
        "objectID": "post/django国际化问题",
        "date": "2014-05-28T00:00:00.000Z",
        "publishdate": "2014-05-28T00:00:00.000Z",
        "tags": [
            "django",
            "国际化"
        ],
        "slug": "django-i18n",
        "category": "django",
        "gitcomment": true
    },
    {
        "title": "Django 中STATIC_ROOT 与STATICFILES_DIRS的区别",
        "uri": "post/django的STATIC_ROOT与STATICFILES_DIRS的区别",
        "content": "Django                                                                         settings py      STATICROOT STATICFILESDIRS                         STATICROOT   STATICFILESDIRS                       STATIC_ROOT STATICROOT Django 1 3                            STATICROOT       STATICURL       static           URL   STATICROOT       Django App      Django App            App                                       Django            1 3                          django views static serve       App urls py          url r     static P        django views static serve     document_root      path to project app static                      Django                         Django                Nginx   CDN            App                         nginx   static                                App                        1 3                                                            nginx  static    STATICROOT          python manage py collectstatic         App            STATICROOT                           STATIC_ROOT                 STATICFILES_DIRS        STATICFILESDIRS                                       collectstatic                  STATICROOT         STATICFILESDIRS       STATICROOT                             App                             STATICFILESDIRS STATICROOT              STATIC_URL     static                   STATICFILES_DIRS     os path join BASE_DIR   staticfiles        collectstatic                                                      STATICROOT   os path join BASEDIR   static         Django  static    django contrib staticfiles  App staticfiles    STATICFILESDIRS STATICROOT    App static                       settings py           Nginx             static   Nginx   django contrib staticfiles                 static                     Django              settings DEBUG False    staticfiles",
        "objectID": "post/django的STATIC_ROOT与STATICFILES_DIRS的区别",
        "date": "2017-11-01T00:00:00.000Z",
        "publishdate": "2017-11-01T00:00:00.000Z",
        "tags": [
            "python",
            "django"
        ],
        "bigimg": [
            {
                "src": "/img/posts/18888531_442371539465605_1833253399559143424_n.jpg",
                "desc": "乌镇水乡@杭州 JUNE 1,2017"
            }
        ],
        "slug": "django-staticroot-staticfilesdirs-function",
        "category": "python",
        "gitcomment": true
    },
    {
        "title": "django自定义标签之inclusion_tag的用法",
        "uri": "post/django自定义标签之inclusion_tag的用法",
        "content": "django                                      inclusion_tags     1  model      templatetags             init py                  2   buttons py           django import template register   template Library    register inclusiontag  tags diggbutton html   takes_context True  def digg_button context  comment   context       request          takes_context   True                context  user   context  user   user is_authenticated    return   isdigg   comment isdigg user    uuid   comment uuid   uptimes   comment uptimes  return   is_digg   False   uuid   comment uuid   uptimes   comment uptimes  3        tags          diggbutton html            diggbutton             is_digg         up_times       else         up_times       endif    4         digg_button                          django 1 6 2              buttons               buttons     templatetags               load buttons    5                  digg_button        digg_button comment        django 1 6 2",
        "objectID": "post/django自定义标签之inclusion_tag的用法",
        "date": "2014-05-28T00:00:00.000Z",
        "publishdate": "2014-05-28T00:00:00.000Z",
        "tags": [
            "django",
            "标签"
        ],
        "slug": "django-custom-tag-inclusion_tag",
        "category": "django",
        "gitcomment": true
    },
    {
        "title": "Docker 的多阶段构建",
        "uri": "post/Docker 的多阶段构建",
        "content": "Docker     Build Ship and Run App Anywhere       Docker                           Build                               golang                                                                                                                                  golang             Docker          package main import    github com gin gonic gin   net http    func main     router    gin Default   router GET   ping   func c  gin Context    c String http StatusOK   PONG      router Run   8080                                        alpine                        Docker                             Ubuntu                                                  alpine                  Ubuntu              volume                         alpine                                                                                alpine                     alpine                    Dockerfile     Dockerfile build  golang WORKDIR  go src app ADD    go src app RUN go  u  v github com kardianos govendor RUN govendor sync RUN GOOS linux GOARCH 386 go build  v  o  go src app app server   alpine       Dockerfile old  alpine latest RUN apk add  U tzdata RUN ln  sf  usr share zoneinfo Asia Shanghai  etc localtime WORKDIR  root  COPY app server   CMD     app server                                build sh     bin sh echo Building cnych docker multi stage demo build docker build  t cnych docker multi stage demo build    f Dockerfile build docker create   name extract cnych docker multi stage demo build docker cp extract  go src app app server   app server docker rm  f extract echo Building cnych docker multi stage demo old docker build   no cache  t cnych docker multi stage demo old    f Dockerfile old rm   app server                                                           Docker 17 05                  Multi stage builds                        Dockerfile                                                                                                   Dockerfile              Dockerfile  golang build env ADD    go src app WORKDIR  go src app RUN go  u  v github com kardianos govendor RUN govendor sync RUN GOOS linux GOARCH 386 go build  v  o  go src app app server alpine RUN apk add  U tzdata RUN ln  sf  usr share zoneinfo Asia Shanghai  etc localtime COPY   from build env  go src app app server  usr local bin app server EXPOSE 8080 CMD    app server             Dockerfile                       build         docker build  t cnych docker multi stage demo latest                                            0         AS                       build env                   from build env                         docker run   rm  p 8080 8080 cnych docker multi stage demo latest                  http   127 0 0 1 8080 ping       PONG                                            github    https   github com cnych docker multi stage demo      https   docs docker com develop develop images multistage build               k8s                                       kubernetes",
        "objectID": "post/Docker 的多阶段构建",
        "date": "2018-02-04T00:00:00.000Z",
        "publishdate": "2018-02-04T00:00:00.000Z",
        "tags": [
            "docker",
            "alpine"
        ],
        "keywords": [
            "kubernetes",
            "docker",
            "golang",
            "服务"
        ],
        "slug": "multi-stage-build-for-docker",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1495855720902-bb60e936d7ca.jpeg",
                "desc": "moonlit"
            }
        ],
        "category": "docker"
    },
    {
        "title": "Kubernetes Helm 初体验",
        "uri": "post/helm 初体验",
        "content": "Helm                                                                                                                                                  kubernetes                yaml                                               yum                        Helm    kubernetes    yum             Kubernetes          Helm             chart chart     tgz       chart   chart           chart  Kubernetes         chart    Helm    chart            Helm          chart      Kubernetes             config             release     chart             Helm   Helm            Helm Client                      chart           Tiller sever           chart    release                release Tiller Server      Kubernetes      server    Helm client Kubernetes API server      Tiller server              Helm client        chart               chart  Kubernetes               Kubernetes        chart      client    charts   server      release         Helm Realese               2 7 2            helm    usr local bin        Helm                         Helm                   Tiller    helm version Client   version Version SemVer  v2 7 2   GitCommit  8478fb4fc723885b155c924d1c8c410b7a9444e6   GitTreeState  clean   Error  cannot connect Tiller     Helm               kubectl        kubectl          kubernetes    apiserver                       helm init    Helm     gcr io                                        helm init  tiller image cnych tiller v2 7 2  skip refresh                                   E0125 14 03 19 093131 56246 portforward go 331  error occurred forwarding 55943    44134  error forwarding port 44134 pod d01941068c9dfea1c9e46127578994d1cf8bc34c971ff109dc6faa4c05043a6e  uid   unable port forwarding  socat not found  2018 01 25 14 03 19  0xc420476210   0xc4203ae1e0  Stream removed  broadcasting  3 2018 01 25 14 03 19  0xc4203ae1e0   3  Writing data frame 2018 01 25 14 03 19  0xc420476210   0xc4200c3900  Create stream 2018 01 25 14 03 19  0xc420476210   0xc4200c3900  Stream added  broadcasting  5 Error  cannot connect Tiller            socat       sudo yum install  y socat Helm            Tiller      kubernetes   kube system         kubectl pod  n kube system  l app helm NAME READY STATUS RESTARTS AGE tiller deploy 546cf9696c wq5nl 1 1 Running 0 57m         Helm          Client   version Version SemVer  v2 7 2   GitCommit  8478fb4fc723885b155c924d1c8c410b7a9444e6   GitTreeState  clean   Server   version Version SemVer  v2 7 2   GitCommit  8478fb4fc723885b155c924d1c8c410b7a9444e6   GitTreeState  clean               RBAC     kubernetes    1 8 x         RBAC            Tiller    ServiceAccount                    Helm     Role based Access Control    rbac yaml    apiVersion  v1 kind  ServiceAccount metadata  name  tiller namespace  kube system apiVersion  rbac authorization k8s io v1beta1 kind  ClusterRoleBinding metadata  name  tiller roleRef  apiGroup  rbac authorization k8s io kind  ClusterRole name  cluster admin subjects  kind  ServiceAccount name  tiller namespace  kube system     kubectl      kubectl create  f rbac config yaml serviceaccount  tiller  created clusterrolebinding  tiller  created    tiller  ServceAccount            Tiller                    ServiceAccount           Tiller      ServiceAccount        kubectl patch deploy   namespace kube system tiller deploy  p    spec    template    spec    serviceAccount   tiller                           Helm         Error  no available release name found           Helm                                           Chart    helm create hello helm Creating hello helm   tree hello helm hello helm     Chart yaml     charts     templates       NOTES txt       _helpers tpl       deployment yaml       ingress yaml       service yaml     values yaml 2 directories  7 files       templates     deployment yaml            Chart     nginx                         Helm                        Chart     helm install   hello helm NAME  kilted bobcat LAST DEPLOYED  Thu Jan 25 16 57 46 2018 NAMESPACE  default 2018 01 25 16 57 47  0xc4207d8140   7  Writing data frame STATUS  DEPLOYED RESOURCES    v1 Service NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE kilted bobcat hello helm ClusterIP 10 254 43 90 80 TCP 1s   v1beta1 Deployment NAME DESIRED CURRENT UP TO DATE AVAILABLE AGE kilted bobcat hello helm 1 1 1 0 1s   v1 Pod related  NAME READY STATUS RESTARTS AGE kilted bobcat hello helm 789946b9b xslrm 0 1 ContainerCreating 0 1s NOTES  application URL running commands  export POD_NAME   kubectl pods   namespace default  l  app hello helm release kilted bobcat   o jsonpath    items 0  metadata name    echo  Visit http   127 0 0 1 8080 use application  kubectl port forward  POD_NAME 8080 80                    export POD_NAME   kubectl pods   namespace default  l  app hello helm release kilted bobcat   o jsonpath    items 0  metadata name      kubectl port forward  POD_NAME 8080 80          http   127 0 0 1 8080                nginx        release    helm list NAME REVISION UPDATED STATUS CHART NAMESPACE kilted bobcat 1 Thu Jan 25 16 57 46 2018 DEPLOYED hello helm 0 1 0 default   chart    helm package hello helm Successfully package",
        "objectID": "post/helm 初体验",
        "date": "2018-01-25T00:00:00.000Z",
        "publishdate": "2017-01-25T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "helm"
        ],
        "slug": "first-use-helm-on-kubernetes",
        "keywords": [
            "kubernetes",
            "helm",
            "用法"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/Hxev8VTsTuOJ27thHQdK_DSC_0068.jpeg",
                "desc": "Mouth of the cave"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Hugo 集成 Algolia 搜索",
        "uri": "post/hugo集成Algolia搜索",
        "content": "Hugo   Steve Francis    http   spf13 com    Go                             Hugo     Hugo                                                                                                    Google        Hugo                                             Algolia     Algolia     APP                         API                                         InstantSearch                                     https   www algolia com     GitHub   Google                                     Dashboard        Algolia            app     Indices                 qikqiak blog                         Algolia                         json    API                             API                      Algolia     API                              hugo algolia                      hugo aligolia               npm    yarn                       npm install hugo algolia  g           hugo                  config yaml     config toml       config yaml      Algolia    API     baseurl      DefaultContentLanguage   zh cn  hasCJKLanguage  true languageCode   zh cn  title   River s Site  theme   beautifulhugo  metaDataFormat   yaml  algolia  index   qikqiak blog  key   3f541d53f128036d7542f6f2362d4a67  appID   XYLRNJ38SQ    API          dashboard   API Keys        key Admin API Key                          hugo algolia  s JSON index file created public algolia json   updatedAt   2018 02 23T02 36 09 480Z   taskID  249063848950                       public        algolia json            dashboard     Indices                                               index     false    hugo algolia                                          Algolia                                                                beautifulhugo    themes beautifulhugo layouts partials          search html  var client   algoliasearch  XYLRNJ38SQ    3f541d53f128036d7542f6f2362d4a67    var index   client initIndex  qikqiak blog    autocomplete   aa search input     hint  false     source  autocomplete sources hits index   hitsPerPage  8    displayKey   name   templates    suggestion  function suggestion    console log suggestion   return           suggestion _highlightResult title value                    JS     var client   algoliasearch  XYLRNJ38SQ    3f541d53f128036d7542f6f2362d4a67    var index   client initIndex  qikqiak blog        algoliasearch       Application ID       Search Only API Key    initIndex               qikqiak blog                     themes beautifulhugo layouts partials nav html              times  Search blog qikqiak com    partial  search html       close                   search html                      themes beautifulhugo static css search css     import  https   fonts googleapis com css family Montserrat 400 700    aa input container   display  inline block  position  relative  width  100      aa input container span  aa input container input   width  inherit     aa input search   width  300px  padding  12px 28px 12px 12px  border  2px solid  e4e4e4  border radius  4px   webkit transition   2s  transition   2s  font family   Montserrat   sans serif  box shadow  4px 4px 0 rgba 241  241  241  0 35   font size  11px  box sizing  border box  color   333   webkit appearance  none   moz appearance  none  appearance  none     aa input search   webkit search decoration   aa input search   webkit search cancel button   aa input search   webkit search results button   aa input search   webkit search results decoration   display  none     aa input search focus   outline  0  border color   3a96cf  box shadow  4px 4px 0 rgba 58  150  207  0 1      aa input icon   height  16px  width  16px  position  absolute  top  50   right  16px   webkit transform  translateY  50    transform  translateY  50    fill   e4e4e4     aa hint   color   e4e4e4     aa dropdown menu   background color   fff  border  2px solid rgba 228  228  228  0 6   border top width  1px  font family   Montserrat   sans serif  width  300px  margin top  10px  box shadow  4px 4px 0 rgba 241  241  241  0 35   font size  11px  border radius  4px  box sizing  border box     aa suggestion   padding  12px  border top  1px solid rgba 228  228  228  0 6   cursor  pointer   webkit transition   2s  transition   2s  display   webkit box  display   ms flexbox  display  flex   webkit box pack  justify   ms flex pack  justify  justify content  space between   webkit box align  center   ms flex align  center  align items  center     aa suggestion hover   aa suggestion aa cursor   background color  rgba 241  241  241  0 35      aa suggestion   span first child   color   333     aa suggestion   span last child   text transform  uppercase  color   a9a9a9     aa suggestion   span first child em   aa suggestion   span last child em   font weight  700  font style  normal  background color  rgba 58  150  207  0 1   padding  2px 0 2px 2px                  CSS         themes beautifulhugo layouts partials head html head                                                                        https   github com rootsongjc beautifulhugo https   gohugo io tools search  https   www npmjs com package hugo algolia",
        "objectID": "post/hugo集成Algolia搜索",
        "date": "2018-02-23T00:00:00.000Z",
        "publishdate": "2018-02-23T00:00:00.000Z",
        "tags": [
            "Hugo",
            "Algolia"
        ],
        "slug": "hugo-integrated-algolia-search",
        "keywords": [
            "Hugo",
            "Algolia",
            "搜索"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1500531279542-fc8490c8ea4d.jpeg",
                "desc": "Breckenridge, United States"
            }
        ],
        "category": "hugo"
    },
    {
        "title": "Hugo 集成 Gitment 评论插件",
        "uri": "post/hugo集成gitment评论插件",
        "content": "Hugo   Algolia                                                                                     disqus                                                                                              GitHub Issues         Gitment     Gitment      GitHub Issues                                                        Markdown   GFM                  GitHub Pages                    https   github com settings applications new      OAuth Application             Callback URL                https   blog qikqiak com            client id   client secret                       Gitment     Gitment               Hugo     beautifulhugo                                            themes beautifulhugo layouts _default single html                          Params gitment     var gitment   new Gitment   id       Slug                 location href owner      GitHub ID   repo         repo   oauth    client_id      client ID   client_secret      client secret        gitment render  git comments      end           id        location href        URL                 ID           422         URL                      Slug         slug              Params gitment        Gitment                gitment               meta      title  Hugo    Gitment      date  2018 03 05 tags    Hugo    gitment    github   slug  hugo integrated gitment plugin gitment  true category   hugo      gitment    true   slug                        slug    gitment    false            Gitment                              GitHub                    repo   owner                               Demo     Gitment                                           Github issues                 Gitment              Github issues API          Python                                       https   imsun github io gitment",
        "objectID": "post/hugo集成gitment评论插件",
        "date": "2018-03-05T00:00:00.000Z",
        "keywords": [
            "Hugo",
            "评论",
            "gitment",
            "github",
            "Algolia"
        ],
        "tags": [
            "Hugo",
            "gitment",
            "github"
        ],
        "slug": "hugo-integrated-gitment-plugin",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1459909633680-206dc5c67abb.jpeg",
                "desc": "Moon close-up by NASA"
            }
        ],
        "category": "hugo"
    },
    {
        "title": "k8s技术圈一周精选[第1期]",
        "uri": "post/k8s技术圈一周精选[第1期]",
        "content": "2018     1 4                                                                                                                 1        2         3  kubelet sidecar     4  kubernetes                        Kubernetes                k8s                                       kubernetes",
        "objectID": "post/k8s技术圈一周精选[第1期]",
        "date": "2018-03-18T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "知识星球",
            "k8s技术圈"
        ],
        "keywords": [
            "kubernetes",
            "知识星球",
            "k8s技术圈",
            "精选"
        ],
        "slug": "k8s-tech-weekly-collection-phase1",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1506188232657-23c9c893ac2b.jpeg",
                "desc": "Girl Cave"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "k8s技术圈一周精选[第2期]",
        "uri": "post/k8s技术圈一周精选[第2期]",
        "content": "k8s        1                                                                                         2                                                    1  Helm      2  nodeAffinity    3       ingress   ingress controller 4  flannel      5           6  Helm        7  docker    jenkins                  Kubernetes                k8s                                       kubernetes",
        "objectID": "post/k8s技术圈一周精选[第2期]",
        "date": "2018-03-25T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "知识星球",
            "k8s技术圈"
        ],
        "keywords": [
            "kubernetes",
            "知识星球",
            "k8s技术圈",
            "精选"
        ],
        "slug": "k8s-tech-weekly-collection-phase2",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1437843947241-9e73e69172fb.jpeg",
                "desc": "Arthur's Seat, Edinburgh@United Kingdom"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes dashboard 升级之路",
        "uri": "post/kubernetes dashboard 升级",
        "content": "kubernetes           kubernetes   v1 8 2       dashboard    1 6 x     dashboard                                                1 7 x                                  dashboard                                       basic auth       1 6 x   dashboard      basic auth                 haproxy nginx  traefik ingress haproxy nginx     haproxy  nginx    basic auth                      https            traefik ingress       https        traefik       nginx       nginx   https           haproxy         ConfigMap  kind  ConfigMap apiVersion  v1 metadata  name  haproxy conf namespace  kube system data  haproxy config     userlist users user admin insecure password admin global log 127 0 0 1 local0 debug stats timeout 30s defaults log global mode http option httplog option dontlognull timeout connect 5000 timeout client 50000 timeout server 50000 timeout http request 15s timeout http keep alive 15s frontend k8s ui bind   8440 mode http acl authok httpauth users  http request auth unless auth_ok default_backend k8s ui backend k8s ui mode http balance roundrobin server k8s ui 1 kubernetes dashboard kube system svc cluster local 80 check       haproxy Deployment Service  apiVersion  extensions v1beta1 kind  Deployment metadata  name  haproxy namespace  kube system labels  k8s app  haproxy spec  template  metadata  labels  k8s app  haproxy spec  containers  name  haproxy image  haproxy latest imagePullPolicy  IfNotPresent ports  containerPort  8440 name  k8s ui protocol  TCP volumeMounts  name  haproxy config volume mountPath   usr local etc haproxy volumes  name  haproxy config volume configMap  name  haproxy conf items  key  haproxy config path  haproxy cfg kind  Service apiVersion  v1 metadata  name  haproxy namespace  kube system labels  k8s app  haproxy spec  ports  port  8440 targetPort  k8s ui name  k8s ui selector  k8s app  haproxy         ingress      apiVersion  extensions v1beta1 kind  Ingress metadata  name  traefik system namespace  kube system spec  rules  host  k8s local http  paths  path    backend  serviceName  haproxy servicePort  k8s ui       https   k8s local    basic auth      traefik ingress          haprox  nginx               ingress      basic auth     ingress          annotations                        htpasswd     htpasswd  bc auth admin admin            auth   secret   kubectl create secret generic system basic auth   from file auth  n kube system        auth type basic auth secret system basic auth     ingress       traefik ingress controller hosts   basic auth        htpasswd    apiVersion  extensions v1beta1 kind  Ingress metadata  name  traefik system namespace  kube system annotations  ingress kubernetes io auth type  basic ingress kubernetes io auth secret  system basic auth spec  rules  host  k8s local http  paths  path    backend  serviceName  haproxy servicePort  k8s ui     Dashboard         dashboard  basic auth           1 7 1                                dashboard   yaml             kubectl delete  f dashboard                            wget https   raw githubusercontent com kubernetes dashboard master src deploy recommended kubernetes dashboard yaml           Service  NodePort             dashboard      kubectl create  f kubernetes dashboard yaml         dashboard           kubectl svc kubernetes dashboard  n kube system NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE haproxy ClusterIP 10 254 125 90 8440 TCP 8442 TCP 2d kubernetes dashboard NodePort 10 254 122 185 443 31694 TCP 10s                 IP      31694      dashboard        dashboard      https                                  dashboard                dashboard   Kubeconfig token                      Kubeconfig                               default                  dashboard      Kubeconfig  token        Kubeconfig     token        token              token       admin     admin           yaml    admin                   token   dashbaord               Service Account        Bearer token   API server          Kubernetes       kind  ClusterRoleBinding apiVersion  rbac authorization k8s io v1beta1 metadata  name  admin annotations  rbac authorization kubernetes io autoupdate   true  roleRef  kind  ClusterRole name  cluster admin apiGroup  rbac authorization k8s io subjects  kind  ServiceAccount name  admin namespace  kube system apiVersion  v1 kind  ServiceAccount metadata  name  admin namespace  kube system labels  kubernetes io cluster service   true  addonmanager kubernetes io mode  Reconcile    admin                     token          kubectl secret  n kube system grep admin token admin token d5jsg kubernetes io service account token 3 1d   kubectl secret admin token d5jsg  o jsonpath   data token   n kube system  base64  d         base64         dashboard              token                        kubernetes                                    Kubeconfig                     Kubeconfig                 https          bashboard                                    https           dashboard     https                         ls certs  dashboard crt dashboard key   kubectl create secret generic kubernetes dashboard certs   from file certs  n kube syste",
        "objectID": "post/kubernetes dashboard 升级",
        "date": "2017-11-13T00:00:00.000Z",
        "publishdate": "2017-11-13T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "dashboard",
            "https"
        ],
        "keywords": [
            "kubernetes",
            "dashboard",
            "https",
            "登录",
            "认证",
            "升级"
        ],
        "slug": "update-kubernetes-dashboard-more-secure",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/21689420_1963460803943335_1928791974941294592_n.jpg",
                "desc": "It was an exciting feeling to be there alone at this huge lake, witnessing the spectacle of nature"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes Deployment滚动升级",
        "uri": "post/kubernetes deployment实现滚动升级",
        "content": "k8s      1 7 7                Deployment  Replication Controller rc   Deployment   rc                                                      Deployment                                                     Recreate     Pod      RollingUpdate           Pod                            Deployment       Deployment    Replica Set    Replica Set       Pod   Deployment    rs              Deployment    Kubernetes       Replica Set                              Deployment       Replica Set   3 nginx pod yaml      apiVersion  apps v1beta1 kind  Deployment metadata  name  nginx deploy labels  k8s app  nginx demo spec  replicas  3 template  metadata  labels  app  nginx spec  containers  name  nginx image  nginx 1 7 9 ports  containerPort  80           nginx deployment yaml         kubectl create  f nginx deployment yaml deployment  nginx deploy  created                Deployment    kubectl deployments NAME DESIRED CURRENT UP TO DATE AVAILABLE AGE nginx deploy 3 0 0 0 1s                kubectl deployments NAME DESIRED CURRENT UP TO DATE AVAILABLE AGE nginx deploy 3 3 3 3 4m       Deployment     3 Replica Set           rs pod    kubectl rs NAME DESIRED CURRENT READY AGE nginx deploy 431080787 3 3 3 6m   kubectl pod   show labels NAME READY STATUS RESTARTS AGE LABELS nginx deploy 431080787 53z8q 1 1 Running 0 7m app nginx pod template hash 431080787 nginx deploy 431080787 bhhq0 1 1 Running 0 7m app nginx pod template hash 431080787 nginx deploy 431080787 sr44p 1 1 Running 0 7m app nginx pod template hash 431080787    Deployment yaml    replicas 3         3 POD         Deployment           yaml    nginx     nginx 1 13 3    spec            minReadySeconds  5 strategy  indicate strategy want rolling update type  RollingUpdate rollingUpdate  maxSurge  1 maxUnavailable  1 minReadySeconds  Kubernetes                        Kubernetes                                                 maxSurge                   POD      maxSurage 1 replicas 5    Kubernetes    1    Pod        POD            5 1 POD  maxUnavaible             POD             maxSurge  0        0    maxUnavaible 1    Kubernetes           1 POD                     kubectl apply  f nginx deployment yaml deployment  nginx deploy  configured         rollout            kubectl rollout status deployment nginx deploy Waiting rollout finish  1 3 new replicas updated   deployment  nginx deploy  successfully rolled        kubectl rollout pause deployment        kubectl rollout resume deployment           rs       kubectl rs NAME DESIRED CURRENT READY AGE nginx deploy 2078889897 0 0 0 47m nginx deploy 3297445372 3 3 3 42m nginx deploy 431080787 0 0 0 1h   AGE                  3     yaml                describe               Name  nginx deploy Namespace  default CreationTimestamp  Wed  18 Oct 2017 16 58 52  0800 Labels  k8s app nginx demo Annotations  deployment kubernetes io revision 3 kubectl kubernetes io last applied configuration   apiVersion   apps v1beta1   kind   Deployment   metadata    annotations      labels    k8s app   nginx demo    name   nginx deploy   namespace   defa    Selector  app nginx Replicas  3 desired   3 updated   3 total   3 available   0 unavailable StrategyType  RollingUpdate MinReadySeconds  0 RollingUpdateStrategy  25  max unavailable  25  max surge Pod Template  Labels  app nginx Containers  nginx  Image  nginx 1 13 3 Port  80 TCP Environment  Mounts  Volumes  Conditions  Type Status Reason                    Progressing True NewReplicaSetAvailable Available True MinimumReplicasAvailable OldReplicaSets  NewReplicaSet  nginx deploy 3297445372  3 3 replicas created  Events  FirstSeen LastSeen Count SubObjectPath Type Reason Message                                                                     50m 50m 1 deployment controller Normal ScalingReplicaSet Scaled replica set nginx deploy 2078889897 1 45m 45m 1 deployment controller Normal ScalingReplicaSet Scaled down replica set nginx deploy 2078889897 0 45m 45m 1 deployment controller Normal ScalingReplicaSet Scaled replica set nginx deploy 3297445372 1 39m 39m 1 deployment controller Normal ScalingReplicaSet Scaled down replica set nginx deploy 431080787 2 39m 39m 1 deployment controller Normal ScalingReplicaSet Scaled replica set nginx deploy 3297445372 2 38m 38m 1 deployment controller Normal ScalingReplicaSet Scaled down replica set nginx deploy 431080787 1 38m 38m 1 deployment controller Normal ScalingReplicaSet Scaled replica set nginx deploy 3297445372 3 38m 38m 1 deployment controller Normal ScalingReplicaSet Scaled down replica set nginx deploy 431080787 0   Deployment                 Deployment          POD                                            Deployment                  Deployment         kubectl rollout history deployment nginx deploy deployments  nginx deploy  REVISION CHANGE CAUSE 1 2 3 kubectl apply   filename Desktop nginx deployment yaml   record true              Deployment         record                                 REVISION       kubectl rollout history deployment nginx deploy   revision 3 deployments  nginx deploy  revision  3 Pod Template  Labels  app nginx pod template hash 3297445372 Annotati",
        "objectID": "post/kubernetes deployment实现滚动升级",
        "date": "2017-10-18T00:00:00.000Z",
        "publishdate": "2017-10-18T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "deployment"
        ],
        "keywords": [
            "kubernetes",
            "deployment",
            "滚动",
            "升级",
            "回滚",
            "更新"
        ],
        "bigimg": [
            {
                "src": "/img/posts/22280765_1473377219422921_7316093626113589248_n.jpg",
                "desc": "峨眉山@四川 Sep 30,2017"
            }
        ],
        "slug": "kubernetes-rollout-update",
        "category": "kubernetes",
        "gitcomment": true
    },
    {
        "title": "Kubernetes Downward API 基本用法",
        "uri": "post/kubernetes Downward API用法",
        "content": "k8s                      POD         kubernetes             Downward API     Downward API           POD                             POD                  Volume     POD                                  Downward API   POD   IP          namespace                                        yaml      test env pod yaml  apiVersion  v1 kind  Pod metadata  name  test env pod namespace  kube system spec  containers  name  test env pod image  busybox latest command     bin sh     c    env   env  name  POD_NAME valueFrom  fieldRef  fieldPath  metadata name name  POD_NAMESPACE valueFrom  fieldRef  fieldPath  metadata namespace name  POD_IP valueFrom  fieldRef  fieldPath  status podIP                       env   valueFrom            POD   name   namespace          POD                     metata             POD   IP             POD IP       POD                       status            fieldRef   POD             resourceFieldRef                          kubectl        POD    kubectl create  f test env pod yaml pod  test env pod  created POD                   kubectl logs test env pod  n kube system  grep POD POD_IP 172 30 19 24 POD_NAME test env pod POD_NAMESPACE kube system        POD   IP NAME NAMESPACE               Volume   Downward API                   Volume         POD              Downward API  POD   Label Annotation       Volume                                      yaml     test volume pod yaml  apiVersion  v1 kind  Pod metadata  name  test volume pod namespace  kube system labels  k8s app  test volume node env  test annotations  build  test own  qikqiak spec  containers  name  test volume pod container image  busybox latest command    sh     c   args  true      e  etc podinfo labels     echo  en   n n   cat  etc podinfo labels  fi      e  etc podinfo annotations     echo  en   n n   cat  etc podinfo annotations  fi  sleep 3600  done  volumeMounts  name  podinfo mountPath   etc podinfo volumes  name  podinfo downwardAPI  items  path   labels  fieldRef  fieldPath  metadata labels path   annotations  fieldRef  fieldPath  metadata annotations        labels   annotaions            etc podinfo          POD     kubectl create  f test volume pod yaml pod  test volume pod  created           kubectl logs test volume pod  n kube system k8s app  test volume  node env  test  build  test  kubernetes io config seen  2018 03 02T17 51 10 856356259 08 00  kubernetes io config source  api  own  qikqiak                  POD   Labels   Annotations          etc podinfo      lables   annotations                       POD                   Downward API                      initContainer  POD                                                      k8s                                       kubernetes",
        "objectID": "post/kubernetes Downward API用法",
        "date": "2018-03-02T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "pod",
            "downward"
        ],
        "keywords": [
            "kubernetes",
            "pod",
            "downward",
            "用法"
        ],
        "slug": "use-downward-api-get-pod-info",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1493219686142-5a8641badc78.jpeg",
                "desc": "Draw Something"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes PodPreset 的使用",
        "uri": "post/kubernetes PodPreset使用",
        "content": "kubernetes    sentry       sentry     3        POD   WEB Celery Worker Crontab                                                                                    3    3                      3      kubernetes             PodPreset        Pod        Pod                secret volume volume mount              PodPreset      kubernetes 1 8         PodPreset PodPreset     Pod                  API         label selector        Pod   PodPreset  kubernetes           PodPreset       PodPreset                    Pod                           PodPresets    PodPreset                Pod               PodPreset               Pod             Pod              PodPreset              Pod               Pod spec        PodPreset            podpreset admission kubernetes io podpreset           Pod           PodPrestet      PodPreset            Pod  PodPreset          Pod   Kubernetes     Pod Spec    Env EnvFrom   VolumeMounts     Kubernetes    Pod          spec    Volume     Kubernetes    Pod Spec               Pod       Pod Preset                   Pod   Pod Spec       podpreset admission kubernetes io exclude  true      PodPreset    PodPreset            kubernetes 1 8                 PodPreset       PodPreset        podpreset API        admission control NamespaceLifecycle LimitRanger ServiceAccount DefaultStorageClass ResourceQuota PodPreset    runtime config rbac authorization k8s io v1alpha1 true settings k8s io v1alpha1 true      kube apiserver                         kube apiserver                 sentry          PodPreset    sentry podpreset yaml  apiVersion  settings k8s io v1alpha1 kind  PodPreset metadata  name  sentry env namespace  kube ops spec  selector  matchLabels  app  sentry env  name  CFORCEROOT value   true  name  SENTRYREDISHOST value   redis  name  SENTRYREDISPORT value   6379  name  SENTRYREDISDB value   2  name  SENTRYRABBITMQHOST value   rabbitmq 5672  name  SENTRYRABBITMQUSERNAME value   root  name  SENTRYRABBITMQPASSWORD value   root  name  SENTRYSECRETKEY value   xxxxxxxxxxxxx  name  SENTRYPOSTGRESHOST value   postgresql  name  SENTRYPOSTGRESPORT value   5432  name  SENTRYDBNAME value   sentry  name  SENTRYDBUSER value   sentry  name  SENTRYDBPASSWORD value   sentry321           PodPreset        app  sentry          POD                    sentry                sentry deployment yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  labels  app  sentry name  sentry namespace  kube ops spec  template  metadata  labels  app  sentry spec  containers  image  sentry 8 22 0 imagePullPolicy  Always name  sentry ports  containerPort  9000 name  web image  sentry 8 22 0 imagePullPolicy  Always name  sentry worker command    sentry    run    worker   image  sentry 8 22 0 imagePullPolicy  Always name  sentry cron command    sentry    run    cron             kubectl create  f sentry podpreset yaml   kubectl create  f sentry deployment yaml         dashboard       kubectl         sentry POD                     https   kubernetes io docs tasks inject data application podpreset                k8s                                       kubernetes",
        "objectID": "post/kubernetes PodPreset使用",
        "date": "2018-01-23T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "PodPreset"
        ],
        "keywords": [
            "kubernetes",
            "PodPreset",
            "用法"
        ],
        "slug": "how-to-use-podpreset-in-kubernetes",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1498637841888-108c6b723fcb.jpeg",
                "desc": "Transfagarasan by Drone"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes 下升级Prometheus2.0",
        "uri": "post/kubernetes 下升级prometheus2.0",
        "content": "prometheus2 0                                https   prometheus io blog 2017 11 08 announcing prometheus 2 0              2 0                                 kubernetes   prometheus               Kubernetes  Prometheus               yaml     github                  1 8 2       RABC           Prometheus    ServiceAccount  apiVersion  v1 kind  ServiceAccount metadata  name  prometheus namespace  kube ops apiVersion  rbac authorization k8s io v1beta1 kind  ClusterRole metadata  name  prometheus namespace  kube ops rules  apiGroups       resources  nodes nodes proxy services endpoints pods verbs    get    list    watch   nonResourceURLs     metrics   verbs    get   apiVersion  rbac authorization k8s io v1beta1 kind  ClusterRoleBinding metadata  name  prometheus namespace  kube ops roleRef  apiGroup  rbac authorization k8s io kind  ClusterRole name  prometheus subjects  kind  ServiceAccount name  prometheus namespace  kube ops        Prometheus       2 0 0                                               storage local path  storage tsdb path     apiVersion  extensions v1beta1 kind  Deployment metadata  labels  k8s app  prometheus name  prometheus namespace  kube ops spec  replicas  1 template  metadata  labels  k8s app  prometheus spec  serviceAccountName  prometheus containers  image  prom prometheus v2 0 0 name  prometheus command    bin prometheus  args     config file  etc prometheus prometheus yml     storage tsdb path  prometheus     storage tsdb retention 15d  ports  containerPort  9090 protocol  TCP name  http volumeMounts  mountPath    prometheus  name  data subPath  prometheus data mountPath    etc prometheus  name  config volume resources  requests  cpu  100m memory  100Mi limits  cpu  200m memory  1Gi volumes  name  data persistentVolumeClaim  claimName  opspvc configMap  name  prometheus config name  config volume   args                      kubernetessdconfigs    api_servers                  apiVersion  v1 kind  ConfigMap metadata  name  prometheus config namespace  kube ops data  prometheus yml    global  scrape_interval  30s scrape_timeout  30s scrape_configs  job_name   prometheus  static_configs  targets    localhost 9090   job_name   kubernetes apiservers  kubernetessdconfigs  role  endpoints scheme  https tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token relabel_configs  sourcelabels   metakubernetesnamespace  metakubernetesservicename  metakubernetesendpointportname  action  keep regex  default kubernetes https job_name   kubernetes nodes  scheme  https tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     targetlabel  address_ replacement  kubernetes default svc 443 sourcelabels   metakubernetesnodename  regex       targetlabel  metricspath replacement   api v1 nodes   1  proxy metrics job_name   kubernetes cadvisor  scheme  https tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     targetlabel  address_ replacement  kubernetes default svc 443 sourcelabels   metakubernetesnodename  regex       targetlabel  metricspath replacement   api v1 nodes   1  proxy metrics cadvisor job_name   kubernetes node exporter  scheme  http tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     sourcelabels   metakubernetes_role  action  replace targetlabel  kubernetesrole sourcelabels   address_  regex        10250  replacement     1  31672  targetlabel  address_          prometheus     targets            grafana               Kubernetes  Prometheus        https   github com cnych k8s repo               Kubernetes                k8s                                       kubernetes",
        "objectID": "post/kubernetes 下升级prometheus2.0",
        "date": "2017-11-22T00:00:00.000Z",
        "publishdate": "2017-11-22T00:00:00.000Z",
        "slug": "update-prometheus-2-in-kubernetes",
        "tags": [
            "kubernetes",
            "prometheus",
            "grafana"
        ],
        "keywords": [
            "kubernetes",
            "prometheus2",
            "grafana",
            "升级"
        ],
        "bigimg": [
            {
                "src": "/img/posts/22277538_1987368801539992_4665344475080425472_n.jpg",
                "desc": "It is always a new adventure, and I am always impressed with how beautiful nature is"
            }
        ],
        "category": "kubernetes",
        "gitcomment": true
    },
    {
        "title": "kubernetes 日志收集方案",
        "uri": "post/kubernetes 日志收集方案",
        "content": "kubernetes                     EFK                     Log Service    Log                                                                                    DT                         ELK  EFK          ElasticSearch                                                                     ES             ElasticSearch                              Kubernetes                                     Project  k8slog project       Agent           fluentd     curl http   aliacs k8s oss aliyuncs com conf 2Flogging 2Ffluentd pilot yml   fluentd pilot yml    yaml       env                FLUENTDOUTPUT      aliyunsls                  ALIYUNSLS_PROJECT                  project     ALIYUNSLSREGIONENDPOINT                                                       ALIYUNSLSACCESSKEY_ID           accesskeyid  ALIYUNSLSACCESSKEY_SECRET           accesskeysecret  ALIYUNSLSNEEDCREATE_LOGSTORE    Logstore              true         apiVersion  extensions v1beta1 kind  DaemonSet metadata  name  fluentd pilot namespace  kube system labels  k8s app  fluentd pilot kubernetes io cluster service   true  spec  template  metadata  labels  k8s app  fluentd es kubernetes io cluster service   true  version  v1 22 annotations  scheduler alpha kubernetes io critical pod     scheduler alpha kubernetes io tolerations      key    node alpha kubernetes io ismaster    effect    NoSchedule     spec  containers  name  fluentd pilot image  registry cn hangzhou aliyuncs com wangbs fluentd pilot latest resources  limits  memory  200Mi requests  cpu  100m memory  200Mi env  name   FLUENTD_OUTPUT  value   aliyun_sls  name   ALIYUNSLS_PROJECT  value   k8slog project  name   ALIYUNSLSREGIONENDPOINT  value   cn shanghai log aliyuncs com  name   ALIYUNSLSACCESSKEY_ID  value   xxxxxxx  name   ALIYUNSLSACCESSKEY_SECRET  value   xxxxxx  name   ALIYUNSLSNEEDCREATE_LOGSTORE  value   true  volumeMounts  name  sock mountPath   var run docker sock name  root mountPath   host readOnly  true terminationGracePeriodSeconds  30 volumes  name  sock hostPath  path   var run docker sock name  root hostPath  path                     kubectl ds  n kube system NAME DESIRED CURRENT READY UP TO DATE AVAILABLE NODE SELECTOR AGE fluentd pilot 4 4 4 4 4 5h           Fluentd                          aliyunlogsfluentd stdout                 fluentd           Project  Logstore     Logstore                   Logstore stdout                                    Fluentd pilot              kubedns         aliyunlogskubedns stuout     kubedns                                  EFK    TODO",
        "objectID": "post/kubernetes 日志收集方案",
        "date": "2017-11-22T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "ElasticSearch",
            "阿里云"
        ],
        "slug": "kubernetes-logs-collect",
        "keywords": [
            "kubernetes",
            "EFK",
            "ElasticSearch",
            "Kibana",
            "Fluentd",
            "阿里云"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/23734057_146614452628759_6006637352594702336_n.jpg",
                "desc": "Cherish all moments."
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes 下实现socket.io 的集群模式",
        "uri": "post/kubernetes 集群下实现socket.io 的集群模式",
        "content": "socket io                                                                                             kubernetes          socket io                 https   github com cnych k8s socketio cluster demo                        kubernetes                     POD         socket io                  POD                                                         POD                    POD                                            Session ID                           socket io                       Nginx ip_hash            ip        hash                                         kubernetes        traefik ingress                          Nginx                                             sessionAffinity               sessionAffinity    sessionAffinity                                           kubernetes   sessionAffinity          Service       service spec sessionAffinity    ClientIP       sessionAffinity None                     ClientIP      ip_hash              traefik ingress       Service     traefik annotation  apiVersion  v1 kind  Service metadata  name  socket demo namespace  kube apps annotations  traefik backend loadbalancer stickiness   true  traefik backend loadbalancer stickiness cookieName   socket  labels  k8s app  socket demo spec  sessionAffinity   ClientIP  ports  name  socketio port  80 protocol  TCP targetPort  3000 selector  k8s app  socket demo      annotations sessionAffinity                socket io                     hostname                       IP                   sessionAffinity                                                         hostname                POD                                              socket io                multiple Socket IO nodes accepting connections  want broadcast events everyone  or even everyone certain room  you ll need passing messages processes computers    interface charge routing messages call Adapter  implement own top socket io adapter  by inheriting it  use one provide top Redis  socket io redis  var io   require  socket io   3000   var redis   require  socket io redis    io adapter redis   host   localhost   port  6379                                            socket io adapter         socket io redis        socket io redis   adapter                      const express   require  express    const socketRedis   require  socket io redis    const os   require  os    const app   express    const http   require  http   Server app   const io   require  socket io   http   const port   process env PORT    3000  app use express static __dirname     static     app engine  html   require  ejs   renderFile   app set  view engine    html    app get      function  req  res    res render  index      os   os hostname           function onConnection socket   socket on  drawing    data     socket broadcast emit  drawing   data      io adapter socketRedis  host   redis   port  6379     io on  connection   onConnection   http listen port        console log  listening port     port       kubernetes    yaml      apiVersion  extensions v1beta1 kind  Deployment metadata  name  socket demo namespace  kube apps labels  k8s app  socket demo spec  replicas  3 template  metadata  labels  k8s app  socket demo spec  containers  image  cnych socketdemo k8s imagePullPolicy  Always name  socketdemo ports  containerPort  3000 protocol  TCP resources  limits  cpu  100m memory  100Mi requests  cpu  50m memory  50Mi apiVersion  v1 kind  Service metadata  name  socket demo namespace  kube apps annotations  traefik backend loadbalancer stickiness   true  traefik backend loadbalancer stickiness cookieName   socket  labels  k8s app  socket demo spec  sessionAffinity  None ports  name  socketio port  80 protocol  TCP targetPort  3000 selector  k8s app  socket demo                                     kubernetes     socket io            traefik backend loadbalancer stickiness cookieName                                                     socket io          polling         socket io          trasports   polling    websocket     sessionAffinity   traefik  cookieName                      sessionAffinity   None     traefik annotaions       socket io redis          join leave          adapter   remoteJoin remoteLeave                                      traefik sticky sessions kubernetes service socket io docs socket io redis               k8s                                       kubernetes",
        "objectID": "post/kubernetes 集群下实现socket.io 的集群模式",
        "date": "2017-11-21T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "socket.io",
            "cluster"
        ],
        "keywords": [
            "kubernetes",
            "socket.io",
            "cluster",
            "集群",
            "nodejs"
        ],
        "slug": "socketio-multiple-nodes-in-kubernetes",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/23498828_2151213871773296_819155850823204864_n.jpg",
                "desc": "A pal and a skateboard and headed outside in South Australia."
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes使用Prometheus搭建监控平台",
        "uri": "post/Kubernetes使用Prometheus搭建监控平台",
        "content": "Kubernetes                                                          Dashboard                                           Pod          Kubernetes          influxdb grafana heapster                    Prometheus         Prometheus   k8s                     Kubernetes                k8s                                       kubernetes            Prometheus    Prometheus SoundCloud                 Google           Google Kubernetes             influxdb                                                              metrics            Prometheus              Prometheus       ConfigMap      Prometheus         apiVersion  v1 kind  ConfigMap metadata  name  prometheus config namespace  kube ops data  prometheus yml    global  scrape_interval  30s scrape_timeout  30s scrape_configs  job_name   prometheus  static_configs  targets    localhost 9090   job_name   kubernetes nodes cadvisor  tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  api_servers   https   10 43 0 1  in_cluster  true role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     sourcelabels   metakubernetes_role  action  replace targetlabel  kubernetesrole sourcelabels   address_  regex        10250  replacement     1  4194  targetlabel  address_ job_name   kubernetes apiserver cadvisor  tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  api_servers   https   10 43 0 1  in_cluster  true role  apiserver relabel_configs  action  labelmap regex  metakubernetesnodelabel     sourcelabels   metakubernetes_role  action  replace targetlabel  kubernetesrole sourcelabels   address_  regex        10250  replacement     1  10255  targetlabel  address_ job_name   kubernetes node exporter  tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  api_servers   https   10 43 0 1  in_cluster  true role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     sourcelabels   metakubernetes_role  action  replace targetlabel  kubernetesrole sourcelabels   address_  regex        10250  replacement     1  31672  targetlabel  address_           prometheus config yaml           kubectl create  f prometheus config yaml     job_name kubernetes apiserver cadvisor   10250     10255 10255   kubelet   metrics        curl     curl http    10255 metrics job_name kubernetes nodes cadvisor   10250     4194 4194   kubernetes           k8s 1 7      10255       1 7   cadvisor          kubelet                job_name kubernetes node exporter   10250    31672     node exporter   NodePort                    node exporter                       DaemonSet     PODS  apiVersion  extensions v1beta1 kind  DaemonSet metadata  name  node exporter namespace  kube ops labels  k8s app  node exporter spec  template  metadata  labels  k8s app  node exporter spec  containers  image  prom node exporter name  node exporter ports  containerPort  9100 protocol  TCP name  http apiVersion  v1 kind  Service metadata  labels  k8s app  node exporter name  node exporter namespace  kube ops spec  ports  name  http port  9100 nodePort  31672 protocol  TCP type  NodePort selector  k8s app  node exporter         node exporter yaml           kubectl create  f node exporter yaml      Deployment  Prometheus yaml      apiVersion  extensions v1beta1 kind  Deployment metadata  labels  name  prometheus deployment name  prometheus namespace  kube ops spec  replicas  1 template  metadata  labels  app  prometheus spec  containers  image  prom prometheus v1 0 1 name  prometheus command    bin prometheus  args    config file  etc prometheus prometheus yml    storage local path  prometheus    storage local retention 24h  ports  containerPort  9090 protocol  TCP volumeMounts  mountPath    prometheus  name  data subPath  prometheus mountPath    etc prometheus  name  config volume resources  requests  cpu  100m memory  100Mi limits  cpu  200m memory  1Gi volumes  name  data emptyDir     configMap  name  prometheus config name  config volume         prometheus deploy yaml           kubectl create  f prometheus deploy yaml              Prometheus UI        kubectl port forward           POD kubectl pod  l app prometheus  n kube ops  o go template   template    range  items     metadata name    end      kubectl port forward  POD 9090 9090         http   localhost 9090      Prometheus           ingress      yaml      apiVersion  extensions v1beta1 kind  Ingress metadata  name  traefik default ingress annotations  kubernetes io ingress class   traefik  spec  tls  secretName  traefik ssl rules  host  prometheus local           http  paths  path    backend  serviceName  prometheus servicePort  9090         prometheus ingress yaml           kubectl create  f prometheus ingress yaml          traefik                 Status   targets                   targets                            Prometheus   API ",
        "objectID": "post/Kubernetes使用Prometheus搭建监控平台",
        "date": "2017-10-17T00:00:00.000Z",
        "publishdate": "2017-10-17T00:00:00.000Z",
        "keywords": [
            "kubernetes",
            "监控",
            "prometheus",
            "grafana",
            "influxdb"
        ],
        "tags": [
            "kubernetes",
            "prometheus",
            "grafana",
            "influxdb"
        ],
        "bigimg": [
            {
                "src": "/img/posts/k8s-prometheus-grafana-cover.png",
                "desc": ""
            }
        ],
        "category": "kubernetes",
        "gitcomment": true
    },
    {
        "title": "kubernetes ConfigMap 和 Secrets",
        "uri": "post/kubernetes的ConfigMap和Secret",
        "content": "Token                                            settings py                                                                                                                                     10            A            A             10                                                                                                     Docker       Dockerfile                                                                                          kubernetes                          Gist  https   gist github com cnych d40756ce6e03035551b6a023135a78d9 1                    WEB       TOKEN   LANGUAGE                 hardcode app py     coding  utf 8    flask import Flask  jsonify app   Flask name   app route      def index    TOKEN    abcdefg123456  LANGUAGE    English  return jsonify token TOKEN  lang LANGUAGE  name     main   app run host  0 0 0 0   port 5000             TOKEN    LANGUAGE                                BUG                                2                                                   python     os     getenv         read env app py     coding  utf 8    import os flask import Flask  jsonify app   Flask name   app route      def index    TOKEN   os getenv  TOKEN       LANGUAGE   os getenv  LANGUAGE       return jsonify token TOKEN  lang LANGUAGE  name     main   app run host  0 0 0 0   port 5000                                       Unix    MacOS Linux                                export TOKEN abcdefg0000   export LANGUAGE English    Windows             cmd                       setx TOKEN  abcdefg0000  setx LANGUAGE  English                                  flask               TOKEN abcdefg0000 LANGUAGE English python read env app py Running http   0 0 0 0 5000   Press CTRL C quit  127 0 0 1      10 Feb 2018 15 15 14   GET   HTTP 1 1  200               http   127 0 0 1 5000                  lang    English    token    abcdefg0000                         3     Docker                                                                                       Docker                     Dockerfile          ENV              python 3 6 4        RUN mkdir  p  usr src app WORKDIR  usr src app      RUN pip install flask      ADD    usr src app        ENV TOKEN abcdefg0000 ENV LANGUAGE English      EXPOSE 5000      CMD python read env app py          Dockerfile    read env app py                      docker build  t cnych envtest                  cnych envtest            docker run   name envtest   rm  p 5000 5000  it cnych envtest Running http   0 0 0 0 5000   Press CTRL C quit              e              docker run   name envtest   rm  e TOKEN abcdefg88888  e LANGUAGE English  p 5000 5000  it cnych envtest Running http   0 0 0 0 5000   Press CTRL C quit             http   127 0 0 1 5000                             lang    English    token    abcdefg88888    4     Kubernetes              Kubernetes                      Kubernetes Deployment        Docker             Deployment    A B         Deployment                 Dockerfile          Kubernetes Deployment  YAML                      Deployment             read env yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  name  envtest labels  name  envtest spec  replicas  1 template  metadata  labels  name  envtest spec  containers  name  envtest image  cnych envtest ports  containerPort  5000 env  name  TOKEN value   abcd123456  name  LANGUAGE value   English        POD   env                                  TOKEN   LANGUAGE         5     Kubernetes   Secrets   ConfigMap      Docker Kubernetes                                                  Deployment                     Deployment                     Kubernetes    Secrets            ConfigMap                              Secret   ConfigMap           Secret      Base64                                 API      Secret                                ConfigMap             TOKEN     Secret    kubectl create secret generic token   from literal TOKEN abcd123456000     LANGUAGE       ConfigMap    kubectl create configmap language   from literal LANGUAGE English                    Secret   ConfigMap    kubectl secret NAME TYPE DATA AGE default token 6s2bc kubernetes io service account token 3 42d token Opaque 1 1m   kubectl configmap NAME DATA AGE language 1 1m             Kubernetes Demployment   YAML     final read env yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  name  envtest labels  name  envtest spec  replicas  1 template  metadata  labels  name  envtest spec  containers  name  envtest image  cnych envtest ports  containerPort  5000 env  name  TOKEN valueFrom  secretKeyRef  name  token key  TOKEN name  LANGUAGE valueFrom  configMapKeyRef  name  language key  LANGUAGE           env        secret   ConfigMap      6     Secret   ConfigMap              Kubernetes                                              POD                                                   Secret    ConfigMap    kubectl create configmap language   from literal LANGUAGE Chinese  o yaml   dry run   kubectl replace  f   configmap  language  replaced   kubectl create secret generic token   from literal TOKEN bbbbb123456  o yaml   dr",
        "objectID": "post/kubernetes的ConfigMap和Secret",
        "subtitle": "快速了解 kubernetes 中 ConfigMap 和 Secrets 的用法",
        "date": "2018-02-10T00:00:00.000Z",
        "publishdate": "2017-01-18T00:00:00.000Z",
        "keywords": [
            "kubernetes",
            "ConfigMap",
            "Secretes",
            "使用"
        ],
        "tags": [
            "kubernetes",
            "ConfigMap",
            "Secretes"
        ],
        "slug": "understand-kubernetes-configmap-and-secrets",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1470328358326-dee4879da669.jpeg",
                "desc": "Forest bride in flowing dress"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes 的资源配额控制器",
        "uri": "post/kubernetes的资源配额控制器",
        "content": "kubernetes       namespace           namespace                                               kubernetes                           ResourceQuotaController                                                                               kubernetes   3                   CPU   Memory      POD       POD               Namespace                                      Docker   CPU        POD             POD                 CPU memory    Namespace                    CPU          POD RC Service                   apiserver   admission control     ResourceQuota   namespace       ResourceQuota      namespace                            namespace           ResourceQuota     ResourceQuotaController                                                                               namespace              ResourceQuotaController                                                                                    cpu            POD     CPU                limits cpu            POD     CPU                memory            POD                     limits memory            POD                     requests cpu            POD     CPU                requests memory            POD                           cat compute resources yaml apiVersion  v1 kind  ResourceQuota metadata  name  compute resources namespace  myspace spec  hard  requests cpu   1  requests memory  1Gi limits cpu   2  limits memory  2Gi EOF   kubectl create  f compute resources yaml                ResourceQuota      kubectl describe quota compute resources  n myspace Name  compute resources Namespace  myspace Resource Used Hard limits cpu 0 2 limits memory 0 2Gi requests cpu 0 1 requests memory 0 1Gi               namespace           cpu   memory                        request       limit           Pod                         yaml            admission control      LimitRanger  apiVersion  v1 kind  LimitRange metadata  name  limits spec  limits  default  cpu  200m memory  200Mi type  Container                namespace                             Storage Class                                                                                                                       requests storage       PVC                     persistentvolumecliaims   namespace       PVC         storageclass storage k8s io requests storage       storage class name     PVC                       storageclass storage k8s io persistentvolumeclaims   namespace        storage class name     PVC                                                                                                                              configmaps   namespace        configmap         persistentvolumeclaims   namespace        PVC         pods   namespace              POD       POD   status phase   Failed   Succeeded               replicationcontrollers   namespace        replication controllers         resourcequotas   namespace        resource quotas         services   namespace       service        services loadbalancers   namespace        load balancer     service         services nodeports   namespace        node port     service         secrets   namespace        secret               cat object counts yaml apiVersion  v1 kind  ResourceQuota metadata  name  object counts namespace  myspace spec  hard  pods   40  configmaps   10  replicationcontrollers   20  secrets   10  services   10  services nodeports   2  EOF   kubectl create  f object counts yaml                      kubectl describe quota object counts  n myspace Name  object counts Namespace  myspace Resource Used Hard configmaps 0 10 pods 0 40 replicationcontrollers 0 20 secrets 1 10 services 0 10 services nodeports 0 2                      scope                                                                                                                                                              Terminating      spec activeDeadlineSeconds    0   POD     NotTerminating      spec activeDeadlineSeconds nil   POD     BestEffort          best effort       POD     NotBestEffort           best effort       POD     BestEffort                PODS Terminating  NotTerminating   NotBestEffort           cpu limits cpu limits memory memory pods requests cpu requests memory          CPU       namespace                                                                                                                      https   kubernetes io docs tasks administer cluster quota memory cpu namespace  https   kubernetes io docs tasks administer cluster quota api object                Kubernetes                k8s                                       kubernetes",
        "objectID": "post/kubernetes的资源配额控制器",
        "date": "2018-03-23T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "resource",
            "quato"
        ],
        "keywords": [
            "kubernetes",
            "resource",
            "quato",
            "资源配额"
        ],
        "slug": "kubernetes-resource-quota-usage",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1517965319782-7b911f164cc2.jpeg",
                "desc": "Alabama Hills@United States"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Memcached的一些坑!!!",
        "uri": "post/Memcached的一些坑",
        "content": "django                                     502                                                                                                   API   15             API                                      API             2M   Memcache          value                                 Memcached          Memcached      item                 Memcached          2G                    Memcached     30                           REALTIME_MAXDELTA 606024 30        250               KEYMAXLENGTH 250                  item     1MB   1MB         POWER_BLOCK 1048576          slab                 I 10m            128M         200   conn_init    freetotal            1024   settings maxconns 1024                 settings factor 1 25  settings chunk_size 48    slab           memcached       socket         libevent                       memcached                                        memcached                                                          item           10m                                                                              1m                        memcached       C              memcached  d  m 2048  l 10 0 0 40  p 11211  d  memcached             m                    M  2048  2 G     l     IP         localhost  p           11211",
        "objectID": "post/Memcached的一些坑",
        "date": "2014-05-28T00:00:00.000Z",
        "tags": [
            "django",
            "Memcached"
        ],
        "slug": "some-pits-of-memcached",
        "category": "django",
        "gitcomment": true
    },
    {
        "title": "Nginx中如何设置301跳转",
        "uri": "post/nginx中设置301跳转",
        "content": "www                    SEO                                                DNS                     dnspod                                                        301   301      302        nginx        nginx   301       server   listen 80  server_name kuaidiantv com www kuaidiantv com  index index html    host     www kuaidiantv com      rewrite         http   www kuaidiantv com  1 permanent           http   atulhost com 301 redirect in nginx",
        "objectID": "post/nginx中设置301跳转",
        "date": "2016-02-27T21:21:00.000Z",
        "tags": [
            "ops",
            "nginx",
            "301"
        ],
        "slug": "nginx-301-redirect",
        "category": "ops",
        "gitcomment": true
    },
    {
        "title": "Prometheus报警AlertManager实战",
        "uri": "post/Prometheus报警AlertManager实战",
        "content": "Kubernetes  Prometheus                Prometheus            grafana                          grafana       grafana            Prometheus                      AlertManager                Kubernetes                k8s                                       kubernetes            AlertManager    Prometheus                       Prometheus Servers           AlertManger      AlertManager             silencing inhibition           email PagerDuty HipChat Slack             AlertManager           3        AlertManger   Prometheus  AlertManager    Prometheus             AlertManager      https   prometheus io docs alerting configuration          alertmanager                        alertmanager  config file simple yml      config file                kubernetes          AlertManager        docker                quay io prometheus alertmanager v0 12 0                         AlertManager               docker           ConfigMap            kind  ConfigMap apiVersion  v1 metadata  name  alertmanager namespace  kube ops data  config yml     global  resolve_timeout  5m route  receiver  webhook group_wait  30s group_interval  5m repeat_interval  4h group_by   alertname  routes  receiver  webhook group_wait  10s match  team  node receivers  name  webhook webhook_configs  url   http   apollo hooks dingtalk   send_resolved  true url   http   apollo hooks prome   send_resolved  true          webhook              email                                                       token URL             URL          Prometheus  AlertManager         Prometheus ConfigMap   AlertManager     alerting  alertmanagers  static_configs  targets    localhost 9093            Prometheus AlertManager      POD   AlertManager      9093       localhost 9093           Prometheus                        rule_files   etc prometheus rules yml   rule_files                 rules yml ConfigMap       etc prometheus        rules yml    groups  name  test rule rules  alert  NodeFilesystemUsage expr   nodefilesystemsize device  rootfs     nodefilesystemfree device  rootfs      nodefilesystemsize device  rootfs     100   80 for  2m labels  team  node annotations  summary      labels instance    High Filesystem usage detected  description      labels instance    Filesystem usage above 80   current value is      value     alert  NodeMemoryUsage expr   nodememoryMemTotal    nodememoryMemFree nodememoryBuffers nodememoryCached      nodememoryMemTotal   100   80 for  2m labels  team  node annotations  summary      labels instance    High Memory usage detected  description      labels instance    Memory usage above 80   current value is      value     alert  NodeCPUUsage expr   100    avg  instance   irate node_cpu job  kubernetes node exporter  mode  idle   5m      100     80 for  2m labels  team  node annotations  summary      labels instance    High CPU usage detected  description      labels instance    CPU usage above 80   current value is      value            3                         CPU          80      label team node receiver   alertmanager                       webhook  receiver         POST        HOOK                                         3     inactive             firing     pending   pending                    firing                           expr      graph                       Prometheus                     ConfigMap      cm yaml  apiVersion  v1 kind  ConfigMap metadata  name  prometheus config namespace  kube ops data  prometheus yml    global  scrape_interval  30s scrape_timeout  30s rule_files   etc prometheus rules yml alerting  alertmanagers  static_configs  targets    localhost 9093   scrape_configs  job_name   prometheus  static_configs  targets    localhost 9090   job_name   kubernetes apiservers  kubernetessdconfigs  role  endpoints scheme  https tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token relabel_configs  sourcelabels   metakubernetesnamespace  metakubernetesservicename  metakubernetesendpointportname  action  keep regex  default kubernetes https job_name   kubernetes nodes  scheme  https tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     targetlabel  address_ replacement  kubernetes default svc 443 sourcelabels   metakubernetesnodename  regex       targetlabel  metricspath replacement   api v1 nodes   1  proxy metrics job_name   kubernetes cadvisor  scheme  https tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     targetlabel  address_ replacement  kubernetes default svc 443 sourcelabels   metakubernetesnodename  regex       targetlabel  metricspath replacement   api v1 nodes   1  proxy metrics cadvisor job_name   kubernetes node exporter  scheme  http tls_config  ca_file   var run secr",
        "objectID": "post/Prometheus报警AlertManager实战",
        "date": "2017-12-27T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "prometheus",
            "alertmanager"
        ],
        "keywords": [
            "kubernetes",
            "prometheus",
            "alertmanager",
            "报警",
            "钉钉",
            "webhook"
        ],
        "slug": "alertmanager-of-prometheus-in-practice",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1512389142860-9c449e58a543.jpeg",
                "desc": ""
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "用python处理csv文件",
        "uri": "post/python处理csv文件",
        "content": "CSV            Sublime Text  EXCEL   python            csv    csv         csv                             import csv def readcsvfile path   open path   rb   f    r     b        reader   csv reader f  row reader  print row f close     csv                                                                          csv                                               import csv def readcsvdata path   data_lines      open path   rb   f  reader   csv reader f  fields   reader next                  row reader  items   dict zip fields  row   data_lines append items  f close   return data_lines   csv      csv                   csv         import csv def writecsvfile path  open path   wb   f    w     b       writer   csv writer f  writer writerow   name    address    age      writerow        data        ych    china   25       Lily    USA    24    writer writerows data    writerows        f close     csv",
        "objectID": "post/python处理csv文件",
        "date": "2015-05-05T00:00:00.000Z",
        "tags": [
            "python",
            "csv"
        ],
        "slug": "python-process-csv-file",
        "category": "django",
        "gitcomment": true
    },
    {
        "title": "Python 虚拟环境全知道",
        "uri": "post/python虚拟环境全知道",
        "content": "python                                                      python           python2 7    python3 6     python                                                 python                       virtualenv   python     pyenv             docker virtualenv   pip install virtualenv    virtualenv        easy_install            Python       pip         virtualenv py   python virtualenv py                           pip                   virtualenv    pip         pip install virtualenv Collecting virtualenv Using cached virtualenv 15 1 0 py2 py3 none any whl Installing collected packages  virtualenv Successfully installed virtualenv 15 1 0                      virtualenv          virtualenv env4test                           source env4test bin activate  env4test                                 env4test       django2 0   env4test   pip install django                        deactivate      pip list          django      virtualenv                     virtualenvwrapper virtualenvwrapper virtualenv                  virtualenv                                                                  pip install virtualenvwrapper                             virtualenvwrapper sh          usr local bin virtualenvwrapper sh    sudo find    name virtualenvwrapper sh Password   usr local bin virtualenvwrapper sh         zshrc             zsh         source  usr local bin virtualenvwrapper sh               source    zshrc          virtualenvwrapper               mkvirtualenv            rmvirtualenv            workon            deactivate        workon  lsvirtualenv  b      https   virtualenvwrapper readthedocs io en latest  pyenv pyenv Python              Python          Pytho        Python                                 sudo    pyenv             Python         virtualenv    Python           Python                                 MAC       homebrew       brew update   brew install pyenv                  pyenv                curl  L https   raw githubusercontent com pyenv pyenv installer master bin pyenv installer   bash                  zshrc         bashrc                          export PATH  HOME  pyenv bin  PATH eval    pyenv init     eval    pyenv virtualenv init                    source    zshrc          pyenv         Python      pyenv versions   system  set  Users ych  pyenv version  3 6 4 3 6 4 envs ops3 6 4 3 6 4 envs talk3 6 4 ops3 6 4 talk3 6 4            Python            Python      pyenv install  l          pyenv install 2 7 3     python   pyenv uninstall 2 7 3     python         pyenv global 2 7 3   pyenv local 2 7 3 global       Python              pyenv version      local                        python version               Python      global   python    shell   local   global pyenv               python version                  global      pyenv shell 2 7 3        shell   Python           shell   PYENV_VERSION                   local   global        pyenv shell   unset    unset          shell        pyenv virtualenv     pyenv               pyenv virtualenv        virtualenv        ls  la    pyenv plugins total 8 drwxr xr x 9 ych staff 288 12 26 16 27   drwxr xr x 23 ych staff 736 12 26 17 44     rw r  r   1 ych staff 52 12 26 16 26  gitignore drwxr xr x 11 ych staff 352 12 26 16 27 pyenv doctor drwxr xr x 12 ych staff 384 12 26 16 27 pyenv installer drwxr xr x 7 ych staff 224 12 26 16 27 pyenv update drwxr xr x 13 ych staff 416 12 26 16 27 pyenv virtualenv drwxr xr x 8 ych staff 256 12 26 16 27 pyenv which ext drwxr xr x 8 ych staff 256 12 26 16 26 python build                  pyenv virtualenvs        pyenv activate             pyenv deactivate        pyenv uninstall       rm  rf    pyenv versions             pyenv virtualenv 3 6 4 env3 6 4       python             python        Python                                    pyenv versions        pyenv pyenv virtualenv           python                                     https   github com pyenv pyenv  Docker                                       Docker                  Docker                                                                                       django              testpyenv tree       manage py     testpyenv     init py     settings py     urls py     wsgi py             requirements txt  Django  2 0               Dockerfile    python 3 6 4        RUN mkdir  p  usr src app WORKDIR  usr src app        Docker      ADD   requirements txt  usr src app requirements txt      RUN pip install  r requirements txt      ADD    usr src app      CMD python manage py runserver 0 0 0 0 8000   django2 0   python3                python 3 6 4                                    docker build  t cnych testpyenv v0 1 1                       start sh          docker run  d  p 8000 8000   name testpyenv cnych testpyenv v0 1 1     8000      8000                  source start sh                 http   127 0 0 1 8000                                                                                                               django                                                         Docker      volume                                     start sh    work_path   pwd  docker run  d  p 8000 8000   name te",
        "objectID": "post/python虚拟环境全知道",
        "date": "2018-01-09T00:00:00.000Z",
        "tags": [
            "python",
            "pyenv",
            "virtualenv",
            "docker"
        ],
        "keywords": [
            "python",
            "pyenv",
            "virtualenv",
            "docker",
            "虚拟"
        ],
        "slug": "python-virtualenv-all-know",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1500644970114-4ff3c3dfb61f.jpeg",
                "desc": "Reach for the End."
            }
        ],
        "category": "python"
    },
    {
        "title": "Python装饰器简介",
        "uri": "post/python装饰器简介",
        "content": "Python                                                                                                                                                                                     def anewdecorator a_func   def wrapTheFunction    print  I doing boring work executing a_func     a_func   print  I doing boring work executing a_func     return wrapTheFunction def afunctionrequiring_decoration    print  I function needs decoration remove foul smell   afunctionrequiring_decoration    outputs   I function needs decoration remove foul smell  afunctionrequiringdecoration   anewdecorator afunctionrequiringdecoration   now afunctionrequiring_decoration wrapped wrapTheFunction   afunctionrequiring_decoration    outputs I doing boring work executing a_func   function needs decoration remove foul smell doing boring work executing a_func      python                                                                                                        anewdecorator def afunctionrequiring_decoration       Hey you  Decorate me     print  I function needs decoration    remove foul smell   afunctionrequiring_decoration    outputs  doing boring work executing a_func   function needs decoration remove foul smell doing boring work executing a_func    the  anewdecorator just short saying  afunctionrequiringdecoration   anewdecorator afunctionrequiringdecoration       wraps      Python                                    print afunctionrequiringdecoration name_  Output  wrapTheFunction           Ouput      afunctionrequiring_decoration        warpTheFunction                     docstring      Python                       functools wraps             functools wraps  functools import wraps def anewdecorator a_func    wraps a_func  def wrapTheFunction    print  I doing boring work executing a_func     a_func   print  I doing boring work executing a_func     return wrapTheFunction  anewdecorator def afunctionrequiring_decoration       Hey yo  Decorate me     print  I function needs decoration    remove foul smell   print afunctionrequiringdecoration name_  Output  afunctionrequiring_decoration                          functools import wraps def decorator_name f    wraps f  def decorated args   kwargs   not can_run  return  Function will not run  return f args   kwargs  return decorated  decorator_name def func    return  Function running   can_run   True print func    Output  Function running can_run   False print func    Output  Function will not run     wraps                                                                                    wraps                                                             decorator_name                               Python                                                                                functools import wraps def logit logfile  out log    def logging_decorator func    wraps func  def wrapped_function args   kwargs   logstring   func name_     called  print log_string    logfile       open logfile   a   opened_file            logfile openedfile write logstring     n   return func args   kwargs  return wrapped_function return logging_decorator  logit   def myfunc1    pass myfunc1   Output  myfunc1 called        out log                       logit logfile  func2 log   def myfunc2    pass myfunc2   Output  myfunc2 called        func2 log                                         logit                                                                             email                                                                                           logit  functools import wraps class logit object   def init self  logfile  out log    self logfile   logfile def call self  func    wraps func  def wrapped_function args   kwargs   logstring   func name_     called  print log_string    logfile    open self logfile   a   opened_file               openedfile write logstring     n             self notify   return func args   kwargs  return wrapped_function def notify self   logit          pass                                                   logit   def myfunc1    pass       logit        email      email              class email_logit logit         logit                email         def init self  email  admin myproject com   args   kwargs   self email   email super logit  self  init args   kwargs  def notify self       email self email          pass       email_logit    logit",
        "objectID": "post/python装饰器简介",
        "date": "2016-11-14T00:00:00.000Z",
        "publishdate": "2016-11-14T00:00:00.000Z",
        "bigimg": [
            {
                "src": "/img/posts/decorator-cover.jpg",
                "desc": ""
            }
        ],
        "tags": [
            "python",
            "装饰器"
        ],
        "slug": "django-decorator-usage",
        "category": "python",
        "gitcomment": true
    },
    {
        "title": "webpack3入门到放肆视频教程",
        "uri": "post/webpack3入门到放肆视频教程",
        "content": "python        nodejs golang                                                                                              webpack3              webpack                   React Vue        webpack                                                                                                               nodejs                                      Webpack3 x                   Webpack      CSS     ES2015     SASS               CSS JS                    Webpack Manifests       Python     TODO  Python",
        "objectID": "post/webpack3入门到放肆视频教程",
        "date": "2017-12-26T00:00:00.000Z",
        "publishdate": "2017-12-26T00:00:00.000Z",
        "bigimg": [
            {
                "src": "/img/posts/webpack-get-started.png",
                "desc": "@海马学院"
            }
        ],
        "tags": [
            "webpack",
            "视频"
        ],
        "slug": "webpack3-get-started",
        "category": "devops",
        "gitcomment": true
    },
    {
        "title": "为kubernetes dashboard访问用户添加权限控制",
        "uri": "post/为kubernetes dashboard访问用户添加权限限制",
        "content": "kubernetes dashboard            Dashboard                              admin        cluster admin                                    token  Dashboard                                                        Role Role               Role       namespace                                         Pods           kind  Role apiVersion  rbac authorization k8s io v1beta1 metadata  namespace  default name  pod reader rules  apiGroups            indicates core API group resources    pods   verbs    get    watch    list   ClusterRole ClusterRole   Role                ClusterRole                          node            endpoints     healthz                   pods                                       secrets       kind  ClusterRole apiVersion  rbac authorization k8s io v1beta1 metadata   namespace  omitted ClusterRoles not namespaced name  secret reader rules  apiGroups       resources    secrets   verbs    get    watch    list   RoleBinding ClusterRoleBinding RoloBinding                    RoleBinding         subjects                         users groups service accounts  RoleBinding               ClusterRoleBinding                         pod reader      jane                   pod reader     role binding allows  jane  read pods  default  namespace  kind  RoleBinding apiVersion  rbac authorization k8s io v1beta1 metadata  name  read pods namespace  default subjects  kind  User name  jane apiGroup  rbac authorization k8s io roleRef  kind  Role name  pod reader apiGroup  rbac authorization k8s io RoleBinding      ClusterRole     namespace          ServiceAccount                               ClusterRole        namespace     RoleBinding           RoleBinding       ClusterRole    ClusterRole          secrets               dave      development      secrets    RoleBinding     development       role binding allows  dave  read secrets  development  namespace  kind  RoleBinding apiVersion  rbac authorization k8s io v1beta1 metadata  name  read secrets namespace  development   grants permissions within  development  namespace  subjects  kind  User name  dave apiGroup  rbac authorization k8s io roleRef  kind  ClusterRole name  secret reader apiGroup  rbac authorization k8s io       ClusterRoleBinding                            ClusterRoleBinding         manager                 secrets      cluster role binding allows anyone  manager  group read secrets namespace  kind  ClusterRoleBinding apiVersion  rbac authorization k8s io v1beta1 metadata  name  read secrets global subjects  kind  Group name  manager apiGroup  rbac authorization k8s io roleRef  kind  ClusterRole name  secret reader apiGroup  rbac authorization k8s io   dashboard                                                              cnych           kube system   pods deployments            ServiceAccount    kubectl create sa cnych  n kube system           role cnych  role yaml  kind  Role apiVersion  rbac authorization k8s io v1 metadata  namespace  kube system name  role cnych rules  apiGroups       resources    pods   verbs    get    watch    list   apiGroups    extensions    apps   resources    deployments   verbs    get    list    watch    create    update    patch    delete        rules     pods deployments                        role cnych   cnych ServiceAccount   role bind yaml  kind  RoleBinding apiVersion  rbac authorization k8s io v1 metadata  name  role bind cnych namespace  kube system subjects  kind  ServiceAccount name  cnych namespace  kube system roleRef  kind  Role name  role cnych apiGroup  rbac authorization k8s io         yaml      kubect create  f role yaml   kubect create  f role bind yaml                       cnych  ServiceAccount token     Dashboard     kubectl secret  n kube system  grep cnych cnych token nxgqx kubernetes io service account token 3 47m   kubectl secret cnych token nxgqx  o jsonpath   data token   n kube system  base64  d         base64         dashboard              token                               token                                      kube system           https       pod namespace kube system             pod                   events forbidden  User  system serviceaccount kube system cnych  cannot list events namespace  kube system                  pod deployment           deployment                                          Role                                     https   kubernetes io docs admin authorization rbac  Add Users Kubernetes  kubectl                 Kubernetes                k8s                                       kubernetes",
        "objectID": "post/为kubernetes dashboard访问用户添加权限限制",
        "date": "2018-01-18T00:00:00.000Z",
        "publishdate": "2017-01-18T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "dashboard",
            "rbac"
        ],
        "keywords": [
            "kubernetes",
            "dashboard",
            "rbac",
            "权限"
        ],
        "slug": "add-authorization-for-kubernetes-dashboard",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1439209306665-700c9bca794c.jpeg",
                "desc": "two boats"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "服务网格(Service Mesh)是什么?",
        "uri": "post/什么是服务网格?",
        "content": "Trace                                                                                                              Service Mesh     Service Mesh  Service Mesh             2016    Linkerd  Buoyant          Linkerd    Service Mesh                  infoQ      istio    Service Mesh                             Service Mesh                                         Willian Morgan Linker  CEO    Service Mesh      service mesh dedicated infrastructure layer handling service to service communication  It s responsible reliable delivery requests complex topology services comprise modern  cloud native application  practice  service mesh typically implemented array lightweight network proxies deployed alongside application code  without application needing aware                                                                                                                                               sidecar Service Mesh                                                      Service Mesh                       Service Mesh                                         Sidecar    Sidecar  Kubernetes    POD         Sidecar                                       Service Mesh                              Service Mesh                                                                                                                                               Service Mesh                     Sidecar                                            Sidecar                                                                                                                                                          Service Mesh                                  Service Mesh                Sidecar                                       Service Mesh                   Sidecar                Service Mesh                      Service Mesh             Serivce Mesh      istio      https   buoyant io 2017 04 25 whats a service mesh and why do i need one",
        "objectID": "post/什么是服务网格?",
        "date": "2017-10-21T00:00:00.000Z",
        "tags": [
            "microservice",
            "Service Mesh",
            "服务网格",
            "微服务"
        ],
        "keywords": [
            "microservice",
            "Service Mesh",
            "服务网格",
            "微服务"
        ],
        "slug": "what-is-service-mesh",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/18723523_813563038801986_2018903369518678016_n.jpg",
                "desc": "断桥残雪@杭州西湖 Apr 30,2017"
            }
        ],
        "category": "microservice"
    },
    {
        "title": "使用YAML 文件创建 Kubernetes Deployment",
        "uri": "post/使用YAML 文件创建 kubernetes Deployment",
        "content": "kubernetes             kubectl          POD         kubernetes          YAML                 YAML         POD                  YAML              YAML         kubernetes pod          kubernetes deployment   YAML    YAML                         JSON     YAML        j m l                                                                         Tab                                                                      kubernetes                 Lists Maps            Lists Maps Maps Lists                                           Maps        Maps      Map        key value     Maps                      apiVersion  v1 kind  Pod                                                            kind   apiVersion           v1 Pod     YAML       JSON                    apiVersion    v1    kind    pod                   YAML         KEY               Maps  apiVersion  v1 kind  Pod metadata  name  kube100 site labels  app  web     YAML    metadata    KEY         Maps        labels    KEY       Map                             YAML         YAML                                YAML                                                                    4            name   labels             YAML                MAP   app   labels       app               YAML           tab                 YAML       JSON        apiVersion    v1    kind    Pod    metadata      name    kube100 site    labels      app    web                JSON                YAML              Lists Lists               YAML              args Cat Dog Fish                                                    JSON          args      Cat    Dog    Fish         list         Maps Maps        list      apiVersion  v1 kind  Pod metadata  name  kube100 site labels  app  web spec  containers  name  front end image  nginx ports  containerPort  80 name  flaskapp demo image  jcdemo flaskapp ports  containerPort  5000      YAML             containers   List           name image ports       ports      key   containerPort   Map                 JSON          apiVersion    v1    kind    Pod    metadata      name    kube100 site    labels      app   web        spec      containers       name    front end    image    nginx    ports       containerPort    80           name    flaskapp demo    image    jcdemo flaskapp    ports       containerPort    5000                   JSON           YAML             YAML    Pod         YAML                                     YAML         Deployment         kubernetes                             kubernetes            Pod apiVersion  v1 kind  Pod metadata  name  kube100 site labels  app  web spec  containers  name  front end image  nginx ports  containerPort  80 name  flaskapp demo image  jcdemo flaskapp ports  containerPort  5000                POD                   apiVersion       v1               kubernetes                     kind            Pod                      Deployment Job Ingress Service     metadata          Pod     meta         namespace         spec      containers storage volumes     Kubernetes                                    Kubernetes API     Kubernetes Pod                        spec  containers  name  front end image  nginx ports  containerPort  80                           front end     nginx                    80                                                                                               name image command args workingDir ports env resources volumeMounts livenessProbe readinessProbe livecycle terminationMessagePath imagePullPolicy securityContext stdin stdinOnce tty     POD              POD   YAML      pod yaml     kubectl   POD    kubectl create  f pod yaml pod  kube100 site  created                   kubectl      POD         kubectl pods NAME READY STATUS RESTARTS AGE kube100 site 2 2 Running 0 1m        POD                                  kubectl describe                POD    kubectl delete  f pod yaml pod  kube100 site  deleted    Deployment                Deployment                      POD           POD                      kubernetes     Deployment       kubernetes      POD                                       POD                      Deployment  apiVersion  extensions v1beta1 kind  Deployment metadata  name  kube100 site spec  replicas  2      apiVersion     extensions v1beta1   kind    Deployment                       meta                         spec                                     Pod                                Kubernetes v1beta1 API           Depolyment                        Deployment   YAML     apiVersion  extensions v1beta1 kind  Deployment metadata  name  kube100 site spec  replicas  2 template  metadata  labels  app  web spec  containers  name  front end image  nginx ports  containerPort  80 name  flaskapp demo image  jcdemo flaskapp ports  containerPort  5000             pod yaml          template       POD            YAML      deployment yaml      Deployment    kubectl create  f deployment yaml deployment  kube100 site  created                    Deployment       kubectl deployments NAME DESIRED CURRENT UP TO DATE AVAILABLE AGE kube100 site 2 2 2 2 2m           Pods                       YAML      Kubernetes",
        "objectID": "post/使用YAML 文件创建 kubernetes Deployment",
        "date": "2018-02-02T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "yaml",
            "Deployment"
        ],
        "keywords": [
            "kubernetes",
            "YAML",
            "Deployment"
        ],
        "slug": "use-yaml-create-kubernetes-deployment",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1502990313206-7f37a9514bea.jpeg",
                "desc": "Zigzag"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "在kubernetes 集群上搭建docker 私有仓库Harbor",
        "uri": "post/在kubernetes 上搭建docker 私有仓库Harbor",
        "content": "Harbor          Docker       Registry                                      Docker Distribution          Registry     Harbor                   Registry               Harbor        Registry                   Registry                           Harbor                                       kubernetes            Harbor                    Docker                                      project                        Registry                                                              Docker                AD LDAP      Harbor           AD LDAP                                                                                         RESTful API   RESTful API         Harbor                                                     vSphere   OVA               clone harbor             harbor    kubernetes        kubernetes_deployment md  harbor      python    make kubernetes prepare    kubernetes  ConfigMap           python               python             openssl                            openssl                f         harbor cfg                  k  https          harbor cfg     sslcertkey     c  https           harbor cfg     ssl_cert     s          16                                               make harbor cfg  Harbor          make kubernetes    rc yaml                      rc yaml                     containers  name  nginx app it s importent need modify path image  image  harbor nginx make kubernetes pv  pvc yaml  Persistent Volume Claim                     resources  requests  set value adapt needs storage  100Gi make kubernetes pv  pv yaml  Persistent Volume          pvc yaml  PV   PVC              PVC                PV         capacity  value PVC storage  100Gi                        ConfigMap    python make kubernetes prepare                    make kubernetes jobservice jobservice cm yaml make kubernetes mysql mysql cm yaml make kubernetes nginx nginx cm yaml make kubernetes registry registry cm yaml make kubernetes ui ui cm yaml                                               make kubernetes templates         Harbor       jobservice cm yaml  jobservice       WEB     mysql cm yaml  MySQL  Root      nginx cm yaml  Https     nginx    registry cm yaml  Token       Registry                                storage  filesystem  rootdirectory   storage                         Docker         ui cm yaml  Token       UI  Dashboard       WEB     ui   jobservice   beego        beego                                            namespace kube ops    Harbor    namespace                traefik ingress                     nginx             nginx              make kubernetes     rc yaml    ReplicationController  Deployment   Deployment ReplicationController        apiVersion      apiVersion  extensions v1beta1    sepc    selector         make kubernetes      rc yaml  mysql rc yaml    svc yaml     namespace kube ops         mysql              mysql rc yaml  StatefulSet apiVersion        apps v1beta1             nfs                make kubernetes pv      ops pv yaml      pv         apiVersion  v1 kind  PersistentVolume metadata  name  opspv labels  k8s app  opspv spec  accessModes  ReadWriteMany capacity  storage  100Gi persistentVolumeReclaimPolicy  Retain nfs  path   ops data server  192 168 1 139          nfs           apiVersion  v1 kind  PersistentVolumeClaim metadata  name  opspvc namespace  kube ops labels  k8s app  opspvc spec  accessModes  ReadWriteMany resources  requests  storage  100Gi selector  matchLabels  k8s app  opspv             pv pvc       rc yaml     claimName      opspvc      volumeMounts       subPath               volumeMounts  name  logs mountPath   var log jobs subPath  harbor logs volumes  name  logs persistentVolumeClaim  claimName  opspvc           Harbor realse                            harbor   tgz          docker                docker load  i harbor   tgz            POD                                                         vmware docker            adminserver     clone     make kubernetes template    adminserver cm yaml             github                        github                       ConfigMap                  Harbor   create pv   pvc   kubectl apply  f make kubernetes pv ops pv yaml create config map   kubectl apply  f make kubernetes adminserver adminserver cm yaml   kubectl apply  f make kubernetes jobservice jobservice cm yaml   kubectl apply  f make kubernetes mysql mysql cm yaml   kubectl apply  f make kubernetes registry registry cm yaml   kubectl apply  f make kubernetes ui ui cm yaml create service   kubectl apply  f make kubernetes adminserver adminserver svc yaml   kubectl apply  f make kubernetes jobservice jobservice svc yaml   kubectl apply  f make kubernetes mysql mysql svc yaml   kubectl apply  f make kubernetes registry registry svc yaml   kubectl apply  f make kubernetes ui ui svc yaml create k8s deployment statefulset   kubectl apply  f make kubernetes adminserver adminserver rc yaml   kubectl apply  f make kubernetes registry registry rc yaml   kubectl apply  f make kubernetes mysql mysql rc yaml   kubectl apply  f make kubernetes jobservice jobservice rc yaml   kubectl apply  f make kubernetes u",
        "objectID": "post/在kubernetes 上搭建docker 私有仓库Harbor",
        "date": "2017-11-20T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "docker",
            "Harbor"
        ],
        "keywords": [
            "kubernetes",
            "docker",
            "Harbor",
            "私有仓库"
        ],
        "slug": "install-docker-registry-harbor-in-kubernetes",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/23595852_383101912103802_7062153744867131392_n.jpg",
                "desc": "it’s the season for rainy days and yellow ginkgo leaves. "
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "利用Python 优雅的将PDF 转换成图片",
        "uri": "post/将PDF转换成图片",
        "content": "PDF                                           PDF                                 PDF                                 PyPDF    PDF                                        PDF                          PDF          PdfFileReader        PyPDF2 API                                          wand             coding  utf 8    import io wand image import Image wand color import Color PyPDF2 import PdfFileReader  PdfFileWriter memo      def getPdfReader filename   reader   memo get filename  None  reader None  reader   PdfFileReader filename  strict False  memo filename    reader return reader def runconvert filename  page  res 120   idx   page   1 pdfile   getPdfReader filename  pageObj   pdfile getPage page  dst_pdf   PdfFileWriter   dst_pdf addPage pageObj  pdf_bytes   io BytesIO   dstpdf write pdfbytes  pdf_bytes seek 0  img   Image file pdf_bytes  resolution res  img format    png  img compression_quality   90 img background_color   Color  white   img_path     s d png     filename  filename rindex        idx  img save filename img_path  img destroy             PDF              PDF                           PDF                                      PDF                                                                           celery                            github                      PDF  H5                                https   pdfh5 com",
        "objectID": "post/将PDF转换成图片",
        "date": "2017-10-30T00:00:00.000Z",
        "publishdate": "2017-12-06T00:00:00.000Z",
        "tags": [
            "python",
            "PDF"
        ],
        "bigimg": [
            {
                "src": "/img/posts/15624042_1804617946454032_2037034921851092992_n.jpg",
                "desc": "普吉岛@泰国 JAN 6,2017"
            }
        ],
        "slug": "python-convert-pdf-images",
        "category": "python",
        "gitcomment": true
    },
    {
        "title": "手动搭建高可用的kubernetes 集群",
        "uri": "post/手动搭建高可用的Kubernetes 集群",
        "content": "kubernetes                         kubernetes                   v1 8 2      kube apiserver     traefik ingress      kubernetes   docker     harbor    kubernetes                                                                    kubernetes                                           CentOS 7 Ubuntu 16 04               TLS      RBAC                                                                                                                                                                                  Kubernetes                k8s                                       kubernetes                              CA            etcd      kubectl         Flannel      master    kube apiserver       node      kubedns      Dashboard      Heapster      Ingress          harbor              1                    Kubernetes 1 8 2 Docker 17 10 0 ce Etcd 3 2 9 Flanneld TLS            etcd kubernetes master  node  RBAC    kubelet TLS Bootstrapping kubedns dashboard heapster    harbor   nfs     etcd       k8s master       k8s node    master01 192 168 1 137 master02 192 168 1 138 master03 node03 192 168 1 170             master03    node                node01  192 168 1 161 node02  192 168 1 162                                             TLS Bootstrapping    Token        head  c 16  dev urandom   od  An  t x   tr  d        BOOTSTRAP_TOKEN  8981b594122ebed7596f1d3b69c78223                   Pod         Service CIDR                    IP Port   SERVICE_CIDR  10 254 0 0 16  Pod    Cluster CIDR                   flanneld     CLUSTER_CIDR  172 30 0 0 16         NodePort Range  NODEPORTRANGE  30000 32766  etcd         ETCD_ENDPOINTS  https   192 168 1 137 2379 https   192 168 1 138 2379 https   192 168 1 170 2379  flanneld        FLANNELETCDPREFIX   kubernetes network  kubernetes   IP         SERVICE_CIDR     IP  CLUSTERKUBERNETESSVC_IP  10 254 0 1     DNS   IP  SERVICE_CIDR        CLUSTERDNSSVC_IP  10 254 0 2     DNS    CLUSTERDNSDOMAIN  cluster local   MASTER API Server    MASTER_URL  k8s api virtual local            env sh               usr k8s bin                            apiserver        etc hosts        192 168 1 137 k8s api virtual local k8s api   192 168 1 137 master01  IP      IP   apiserver                    ECS                                                                        2    CA       kubernetes           TLS                CloudFlare PKI    cfssl    Certificate Authority CA           CA                    TLS        CFSSL   wget https   pkg cfssl org R1 2 cfssl_linux amd64   chmod  x cfssl_linux amd64   sudo mv cfssl_linux amd64  usr k8s bin cfssl   wget https   pkg cfssl org R1 2 cfssljson_linux amd64   chmod  x cfssljson_linux amd64   sudo mv cfssljson_linux amd64  usr k8s bin cfssljson   wget https   pkg cfssl org R1 2 cfssl certinfo_linux amd64   chmod  x cfssl certinfo_linux amd64   sudo mv cfssl certinfo_linux amd64  usr k8s bin cfssl certinfo   export PATH  usr k8s bin  PATH   mkdir ssl    cd ssl   cfssl print defaults config   config json   cfssl print defaults csr   csr json        usr k8s bin                      export PATH  usr k8s bin  PATH    etc rc local       CA        config json   ca config json    cat ca config json    signing      default      expiry    87600h      profiles      kubernetes      expiry    87600h    usages      signing    key encipherment    server auth    client auth            config json       profiles                                 profile  signing                    ca pem    CA TRUE  server auth    client     CA  server            client auth    server     CA  client              CA        ca csr json    cat ca csr json    CN    kubernetes    key      algo    rsa    size   2048     names        C    CN    L    BeiJing    ST    BeiJing    O    k8s    OU    System        CN  Common Name kube apiserver                   User Name                    O  Organization kube apiserver                     Group     CA          cfssl gencert  initca ca csr json   cfssljson  bare ca   ls ca    ca config json ca csr ca csr json ca key pem ca pem          CA                      etc kubernetes ssl        sudo mkdir  p  etc kubernetes ssl   sudo cp ca   etc kubernetes ssl 3       etcd    kubernetes     etcd              3    etcd     3       kubernetes master 3         etcd01 etcd02 etcd03  etcd01 192 168 1 137 etcd02 192 168 1 138 etcd03 192 168 1 170                    export NODE_NAME etcd01                                 export NODE_IP 192 168 1 137          IP   export NODE_IPS  192 168 1 137 192 168 1 138 192 168 1 170    etcd        IP     etcd       IP      export ETCD_NODES etcd01 https   192 168 1 137 2380 etcd02 https   192 168 1 138 2380 etcd03 https   192 168 1 170 2380                 ETCDENDPOINTS FLANNELETCDPREFIX CLUSTERCIDR   source  usr k8s bin env sh   etcd        https   github com coreos etcd releases                  wget https   github com coreos etcd releases download v3 2 9 etcd v3 2 9 linux amd64 tar gz   tar  xvf etcd v3 2 9 linux amd64 tar gz   sudo mv etcd v3 2 9 linux amd64 etcd   usr k8s bin    TLS                     etcdctl  etcd    etcd            TLS       etcd ",
        "objectID": "post/手动搭建高可用的Kubernetes 集群",
        "date": "2017-11-06T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "高可用",
            "集群",
            "docker"
        ],
        "keywords": [
            "kubernetes",
            "安装",
            "二进制",
            "高可用",
            "集群",
            "docker",
            "kubectl",
            "Haproxy",
            "Keepalived"
        ],
        "slug": "manual-install-high-available-kubernetes-cluster",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/23164024_304744326693830_684783048734015488_n.jpg",
                "desc": "Foggy weather on the coast + a chance encounter with wild horses"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "手摸手教你写 Kubernetes 的 golang 服务",
        "uri": "post/手摸手教你写Kubernetes的golang服务",
        "content": "kubernetes                  kubernetes                              kubernetes golang    golang    golang                                                                         golang                   https   golang google cn             goappk8s             src     mkdir goappk8s    cd goappk8s   mkdir src  goappk8s         GOPATH     setup gopath sh     bin bash DIR    cd    dirname    BASH_SOURCE 0         pwd   export GOPATH   DIR                GOPATH           source setup gopath sh   echo  GOPATH  Users ych devs workspace yidianzhishi goappk8s       GOPATH                 src       golang       mkdir  p github com cnych goappk8s    cd github com cnych goappk8s   touch main go           golang         ping     package main import    github com gin gonic gin   net http    func main     router    gin Default   router GET   ping   func c  gin Context    c String http StatusOK   PONG      router Run   8080                          github com gin gonic gin                  GOPATH           govendor                         dep glide     github com cnych goappk8s               govendor init   govendor fetch github com gin gonic gin                                     GOPATH              go install github com cnych goappk8s      bin goappk8s  GIN debug   WARNING  Creating Engine instance Logger Recovery middleware already attached   GIN debug   WARNING  Running  debug  mode  Switch  release  mode production  using env  export GIN_MODE release using code  gin SetMode gin ReleaseMode   GIN debug   ping     main main func1  3 handlers   GIN debug  Listening serving HTTP  8080          golang                      http   127 0 0 1 8080 ping            PONG                 Docker         Docker                   golang     Dockerfile     main go     golang build env ADD    go src app WORKDIR  go src app RUN go  u  v github com kardianos govendor RUN govendor sync RUN GOOS linux GOARCH 386 go build  v  o  go src app app server alpine RUN apk add  U tzdata RUN ln  sf  usr share zoneinfo Asia Shanghai  etc localtime COPY   from build env  go src app app server  usr local bin app server EXPOSE 8080 CMD    app server        Docker      docker build  t cnych goappk8s v1 0 0                Successfully built 00751f94d8a9 Successfully tagged cnych goappk8s v1 0 0   docker push cnych goappk8s v1 0 0                cnych goappk8s v1 0 0      dockerhub                                                                kubernetes    Kubernetes             kubernetes                                     Dockerfile             kubernetes       k8s yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  name  goapp deploy namespace  kube apps labels  k8s app  goappk8s spec  replicas  2 revisionHistoryLimit  10 minReadySeconds  5 strategy  type  RollingUpdate rollingUpdate  maxSurge  1 maxUnavailable  1 template  metadata  labels  k8s app  goappk8s spec  containers  image  cnych goappk8s v1 0 0 imagePullPolicy  Always name  goappk8s ports  containerPort  8080 protocol  TCP resources  limits  cpu  100m memory  100Mi requests  cpu  50m memory  50Mi livenessProbe  tcpSocket  port  8080 initialDelaySeconds  10 timeoutSeconds  3 readinessProbe  httpGet  path   ping port  8080 initialDelaySeconds  10 timeoutSeconds  2 apiVersion  v1 kind  Service metadata  name  goapp svc namespace  kube apps labels  k8s app  goappk8s spec  ports  name  api port  8080 protocol  TCP targetPort  8080 selector  k8s app  goappk8s apiVersion  extensions v1beta1 kind  Ingress metadata  name  goapp ingress namespace  kube apps spec  rules  host  goappk8s local http  paths  path    backend  serviceName  goapp svc servicePort  api    k8s yaml         3    Deployment Service Ingress    YAML                      YAML      Kubernetes Deployment        replicas  2          POD       strategy      RollingUpdate resources         POD        livenessProbe readinessProbe             kubectl           kubectl apply  f k8s yaml deployment  goapp deploy  created service  goapp svc  created ingress  goapp ingress  created                                   kubectl deployments  n kube apps  grep goapp goapp deploy 2 2 2 2 57s   kubectl svc  n kube apps  grep goapp goapp svc ClusterIP 10 254 109 69 8080 TCP 1m   kubectl ingress  n kube apps  grep goapp goapp ingress goappk8s local 80 1m   kubectl pods  n kube apps  grep goapp goapp deploy 84bb6979c 59qkl 1 1 Running 0 2m goapp deploy 84bb6979c mgg2r 1 1 Running 0 2m        kubernetes        POD              etc hosts     Ingress          k8s    IP goappk8s local              http   goappk8s local ping              PONG                   github             CI CD                           kubernetes                                               k8s                                       kubernetes",
        "objectID": "post/手摸手教你写Kubernetes的golang服务",
        "date": "2018-02-08T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "docker",
            "golang"
        ],
        "keywords": [
            "kubernetes",
            "docker",
            "golang",
            "服务"
        ],
        "slug": "write-kubernets-golang-service-step-by-step",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1508922450598-2f5b1193950a.jpeg",
                "desc": "Lake Wakatipu, New Zealand"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "更优雅的git log",
        "uri": "post/更好的git log",
        "content": "git log                git log                                                                                                                    git log   graph   pretty format   Cred h Creset   C yellow  d Creset  s  Cgreen  cr   C bold blue  Creset    abbrev commit                                        git config   global alias lg  log   color   graph   pretty format   Cred h Creset   C yellow  d Creset  s  Cgreen  cr   C bold blue  Creset    abbrev commit                      git lg                         git lg  p",
        "objectID": "post/更好的git log",
        "date": "2017-12-20T00:00:00.000Z",
        "tags": [
            "git",
            "log",
            "ops"
        ],
        "slug": "a-better-git-log",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/24327236_2084467321787075_5515671519205785600_n.jpg",
                "desc": "Fall and fog"
            }
        ],
        "category": "ops"
    },
    {
        "title": "更新django2.0的10条注意事项",
        "uri": "post/更新django2.0的10条注意事项",
        "content": "django 2 0                   python2 x                2 x              python3 x           python3 x                                 python            python          django2 0                 Django 2 0              1  url django core urlresolvers import reverse     django urls import reverse 2  MIDDLEWARE settings py   MIDDLEWARE_CLASSES    MIDDLEWARE          3  django shortcuts render   django shortcuts rendertoresponse               django shortcuts render      4  User isauthenticated  User isanonymous    User isauthenticated   User isanonymous           User isauthenticated User isanonymous  5  SessionAuthenticationMiddleware    SessionAuthenticationMiddleware            Django 1 10           6  assignmenttag   simpletag  register assignmenttag    register simpletag  django2 0              Django 2 0         7  on_delete models CASCADE  model ForeignKey OneToOne     on_delete models CASCADE  8  URL        Django   URL                       Pythonic                       url r  articles   P 0 9  4       views year_archive               path  articles     views year_archive   9                 annotate        Window        Frame     10                                          Django 2 0",
        "objectID": "post/更新django2.0的10条注意事项",
        "date": "2018-01-02T00:00:00.000Z",
        "tags": [
            "django",
            "django2.0"
        ],
        "slug": "upgrading-django-20-10-tips",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1500206329404-5057e0aefa48.jpeg",
                "desc": "Seeking the one who is higher than us. Lifting our hands to calling his name. Surrendering all of our being through worship."
            }
        ],
        "category": "python"
    },
    {
        "title": "TDD开发容器化的Python微服务应用(一)",
        "uri": "post/测试驱动开发课程",
        "content": "Docker                                                  TDD                                                                                                                                                                                                                  iEverything           python            python                   Docker               Flask Buleprint    Jinja      flask microservices main   Docker Compose    Nginx Admin    flask microservices users           Flask    flask microservices client       React    flask microservices swagger   Swagger API         1                   github            tag       RealPython                                            Docker  Flask MySQL   RESTful API                            TDD                        Docker   started Docker Docker Compose   started Docker Compose Flask   Flaskr TDD               Python v3 6 4 Flask v0 12 2 Flask Script v2 0 6 Flask SQLAlchemy v2 3 2 Flask Testing v0 7 1 PyMySQL v0 8 0 Gunicorn v19 7 1 Nginx v1 13 0 Docker v17 11 0 ce Docker Compose v1 14 0                     Flask    RESTful API             TDD      Docker Docker Compose                                                  Docker     Python Flask     Flask Nginx Gunicorn 2                                        Flask    mkdir flask microservices users    cd flask microservices users   mkdir project   pyenv virtualenv 3 6 4 tdd3   pyenv local tdd3  tdd3   pip install Flask  0 12 2  project       init py            project init py flask import Flask  jsonify    app app   Flask name   app route   ping   methods   GET    def ping_pong    return jsonify    status    success    message    pong           Flask Script               Flask app   tdd3   pip install Flask Script  2 0 6             manage py     manage py flask_script import Manager project import app manager   Manager app  name     main   manager run              Manager                          tdd3   python manage py runserver                    http   localhost 5000 ping        json             message    pong     status    success             Ctrl C   project        config py           project config py class BaseConfig             DEBUG   False TESTING   False class DevelopmentConfig BaseConfig                DEBUG   True class TestingConfig BaseConfig                DEBUG   True TESTING   True class ProductionConfig BaseConfig                DEBUG   False     init py                  flask import Flask  jsonify    app app   Flask name       app config from_object  project config DevelopmentConfig    app route   ping   methods   GET    def ping_pong    return jsonify    status    success    message    pong                        debug          tdd3   python manage py runserver Running http   127 0 0 1 5000   Press CTRL C quit  Restarting stat Debugger active  Debugger PIN  770 657 842                                                                 requirements txt            pip freeze                      tdd3   pip freeze   requirements txt     requirements txt      Flask  0 12 2 Flask Script  2 0 6                 gitignore     pycache env    git             3  Docker              Flask                           Docker Docker Compose    docker  v Docker version 17 05 0 ce  build 89658be   docker compose  v docker compose version 1 14 0  build unknown              Dockerfile     python 3 6 4        RUN mkdir  p  usr src app WORKDIR  usr src app        Docker      ADD   requirements txt  usr src app requirements txt      RUN pip install  r requirements txt      ADD    usr src app      CMD python manage py runserver  h 0 0 0 0                docker compose yml     version   2 1  services  users service  container_name  users service build    volumes      usr src app  ports  5001 5000                               Dockerfile     users service       docker compose yml            volumes                                                                   Docker compose             2 1         docker compose            Docker                                3 x 2 x                                docker compose build                          Docker                                     docker compose  d    d                        http   127 0 0 1 5001 ping             JSON           docker compose yml                           version   2 1  services  users service  container_name  users service build    volumes      usr src app  ports  5001 5000                   environment  APP_SETTINGS project config DevelopmentConfig     proejct init py                   import os flask import Flask  jsonify    app app   Flask name       appsettings   os getenv  APPSETTINGS   app config fromobject appsettings   app route   ping   methods   GET    def ping_pong    return jsonify    status    success    message    pong                docker compose  d                         project init py             import sys print app config  file sys stderr                                         docker compose logs  f users service         DEBUG True TESTING False                    4                   MySQL                     link users service          ",
        "objectID": "post/测试驱动开发课程",
        "date": "2017-12-28T00:00:00.000Z",
        "tags": [
            "python",
            "flask",
            "TDD",
            "docker",
            "react",
            "kubernetes",
            "Microservice"
        ],
        "slug": "tdd-develop-python-microservice-app",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1470020337050-543c4e581988.jpeg",
                "desc": "Cloudy Cabin Escape."
            }
        ],
        "category": "python"
    },
    {
        "title": "TDD开发容器化的Python微服务应用(二)",
        "uri": "post/测试驱动开发课程(二)",
        "content": "3                                                     ReactJS                                                                                                                                                    iEverything           python            python                                  React    React    React        React    1     flask microservices main   Docker Compose    Nginx       flask microservices users   Flask    flask microservices client       2                      Docker Compose      git                             Docker          Travis CI       React    React            3                                                      requirements txt          coverage  4 4 2       manage py         import coverage COV   coverage coverage  branch True  include  project     omit    project tests        COV start    manager command def cov       Runs unit tests coverage     tests   unittest TestLoader   discover  project tests   result   unittest TextTestRunner verbosity 2  run tests  result wasSuccessful    COV stop   COV save   print  Coverage Summary    COV report   COV html_report   COV erase   return 0 return 1                       tdd3   docker compose  f docker compose yml  d   build                 tdd3   docker compose  f docker compose yml run users service python manage py cov                Coverage Summary  Name Stmts Miss Branch BrPart Cover project init py 12 5 0 0 58  project api models py 13 10 0 0 23  project api views py 55 0 10 0 100  project config py 16 0 0 0 100  TOTAL 96 15 10 0 86                    htmlcov                                     htmlcov index html                 htmlcov       gitignore     4       Liniting                       python       linting         Flake8      pep8 pyflakes  linting        requrements txt     flake8     flake8  3 5 0              tdd3   docker compose  f docker compose yml  d   build        flake8         tdd3     docker compose  f docker compose yml run users service flake8 project Starting users db     done project init py 2 1  F401  flask jsonify  imported unused project tests test_users py 28 80  E501 line long  83   79 characters                 flask jsonify                                                        5                                                                                            github       Travis CI                                       travis yml     sudo  required services  docker env  DOCKERCOMPOSEVERSION  1 14 0 before_install  sudo rm  usr local bin docker compose curl  L https   github com docker compose releases download   DOCKERCOMPOSEVERSION  docker compose uname  s uname  m   docker compose chmod  x docker compose sudo mv docker compose  usr local bin before_script  docker compose  f docker compose yml   build  d script  docker compose  f docker compose yml run users service python manage py test docker compose  f docker compose yml run users service flake8 project after_script  docker compose  f docker compose yml down                      docker compose                                                 Travis CI                               GitHub                        Travis CI                     Travis      README md                                                                           GitHub   Travis         6  React    React            javascript                                          React                      React         Why build React  React                    Babel Webpack                            React                     Node NPM    tdd100 node  v v8 5 0   tdd100 npm  v 5 4 2                                         6 1                      React         Create React App        Create React App            npm install create react app   global             flask microservices users                 client                 mkdir client    cd client   create react app                                          npm start         Create React App               http   localhost 3000                  Crtl   C                    npm       package lock json      echo  package lock false      npmrc       npm docs         npmrc        package lock json                 Understanding lock files NPM 5                         6 2                             src     App css App js App test js  index css       index js    import React  react   import ReactDOM  react dom   const App           return   Users      ReactDOM render    document getElementById  root                   React ReactDom           App      ES6                      JSX          ReactDOM render      App        ID root HTML         public     index html                        ES6                   javascript        ES6            ES6    javascript                                             public    index html   head    bootstrap css      6 3                 App             import React   Component   react   import ReactDOM  react dom   class App extends Component   constructor     super      render     return   Users       ReactDOM render    document getElementById  root            npm start                                                    ",
        "objectID": "post/测试驱动开发课程(二)",
        "date": "2018-01-13T00:00:00.000Z",
        "tags": [
            "python",
            "flask",
            "TDD",
            "docker",
            "react",
            "kubernetes",
            "Microservice"
        ],
        "slug": "tdd-develop-python-microservice-app-part2",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1435777940218-be0b632d06db.jpeg",
                "desc": "Arctic plains."
            }
        ],
        "category": "python"
    },
    {
        "title": "理解 Kubernetes 的亲和性调度",
        "uri": "post/理解kubernetes的亲和性",
        "content": "POD                                                                  POD                 gitlab        Kubernetes                                                                                    POD                  Kubernetes                       nodeAffinity podAffinity  nodeSelector     label kubernetes                       label                      service      label     POD     POD             label                           node   label    kubectl nodes   show labels NAME STATUS ROLES AGE VERSION LABELS 192 168 1 140 Ready 42d v1 8 1 beta kubernetes io arch amd64 beta kubernetes io os linux kubernetes io hostname 192 168 1 140 192 168 1 161 Ready 118d v1 8 1 beta kubernetes io arch amd64 beta kubernetes io os linux kubernetes io cluster service true kubernetes io hostname 192 168 1 161 192 168 1 170 Ready 118d v1 8 1 beta kubernetes io arch amd64 beta kubernetes io os linux kubernetes io cluster service true kubernetes io hostname 192 168 1 170 192 168 1 172 Ready 114d v1 8 1 beta kubernetes io arch amd64 beta kubernetes io os linux kubernetes io cluster service true kubernetes io hostname 192 168 1 172         192 168 1 140    source qikqiak            kubectl label nodes 192 168 1 140 source qikqiak node  192 168 1 140  labeled            show labels                 node                                 POD   spec      nodeSelector                  label                  busybox POD   YAML     apiVersion  v1 kind  Pod metadata  labels  app  busybox pod name  test busybox spec  containers  command  sleep  3600  image  busybox imagePullPolicy  Always name  test busybox           POD     140                  140    label     apiVersion  v1 kind  Pod metadata  labels  app  busybox pod name  test busybox spec  containers  command  sleep  3600  image  busybox imagePullPolicy  Always name  test busybox nodeSelector  source  qikqiak          describe             kubectl describe pod test busybox        Events  Type Reason Age Message                               Normal Scheduled 49s default scheduler Successfully assigned test busybox 192 168 1 140 Normal SuccessfulMountVolume 49s kubelet  192 168 1 140 MountVolume SetUp succeeded volume  default token hmpbz  Normal Pulling 49s kubelet  192 168 1 140 pulling image  busybox  Normal Pulled 41s kubelet  192 168 1 140 Successfully pulled image  busybox  Normal Created 41s kubelet  192 168 1 140 Created container Normal Started 41s kubelet  192 168 1 140 Started container        Events           POD         140                 nodeSelector                                        nodeAffinity  nodeAffinity nodeAffinity             Anti Affinity                nodeSelector                                                                         POD                                                                                                              nodeAffinity          preferredDuringSchedulingIgnoredDuringExecution requiredDuringSchedulingIgnoredDuringExecution                          test node affinity yaml  apiVersion  v1 kind  Pod metadata  name  with node affinity labels  app  node affinity pod spec  containers  name  with node affinity image  nginx affinity  nodeAffinity  requiredDuringSchedulingIgnoredDuringExecution  nodeSelectorTerms  matchExpressions  key  kubernetes io hostname operator  NotIn values  192 168 1 140 192 168 1 161 preferredDuringSchedulingIgnoredDuringExecution  weight  1 preference  matchExpressions  key  source operator  values  qikqiak      POD       POD      140 161              source qikqiak                       descirbe                              label            Kubernetes              In label          NotIn label           Gt label         Lt label         Exists    label    DoesNotExist    label         nodeSelectorTerms                         matchExpressions                          POD  podAffinity           POD                      POD           Kubernetes 1 4     podAffinity                nodeAffinity   podAffinity  requiredDuringSchedulingIgnoredDuringExecution  preferredDuringSchedulingIgnoredDuringExecution                            podAntiAffinity             with pod affinity busybox pod            node affinity pod             test pod affinity yaml  apiVersion  v1 kind  Pod metadata  name  with pod affinity labels  app  pod affinity pod spec  containers  name  with pod affinity image  nginx affinity  podAffinity  requiredDuringSchedulingIgnoredDuringExecution  labelSelector  matchExpressions  key  app operator  values  busybox pod topologyKey  kubernetes io hostname podAntiAffinity  preferredDuringSchedulingIgnoredDuringExecution  weight  1 podAffinityTerm  labelSelector  matchExpressions  key  app operator  values  node affinity pod topologyKey  kubernetes io hostname          POD                              POD    POD    app busybox pod  label podAntiAffinity                            POD     POD  app node affinity pod  label        POD                POD        140       busybox pod     140    node affinity pod     140                  describe      kubectl describe pod with pod affinity        Events  Type Rea",
        "objectID": "post/理解kubernetes的亲和性",
        "subtitle": "nodeSelector、nodeAffinity、podAffinity、Taints以及Tolerations用法",
        "date": "2018-03-08T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "affinity",
            "调度"
        ],
        "keywords": [
            "kubernetes",
            "亲和性",
            "调度",
            "affinity",
            "nodeSelector",
            "污点",
            "容忍"
        ],
        "slug": "understand-kubernetes-affinity",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1474436799594-1974f1add7ad.jpeg",
                "desc": "Guntersville Lake, United States"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "用awk做基本运算",
        "uri": "post/用awk做基本计算",
        "content": "awk                                        awk                                                                     2016 03 30 00 02 02 475   17243   140344433927936   MainThread   tasks py 733  DEBUG  upload oss  upload file  data image5 useruploadimage 20160330 00 14584838973975801011834751459267295740 jpg oss cost time 28 ms      28              awk     28             18           18               cat elfin_celery log 2016 03 29 grep  cost  awk  BEGIN  sum 0  sum   18 END print  avg   sum NR   avg  31 5155ms   NR                                        cat elfin_celery log 2016 03 29 grep  cost   awk  BEGIN  min   199999  if   18max 0 max  18 fi END print  Max   max   max 3051ms                  0                                                    http   awk readthedocs org en latest chapter one html http   www xiaoxiaozi com 2009 11 09 1621",
        "objectID": "post/用awk做基本计算",
        "date": "2016-03-31T00:00:00.000Z",
        "tags": [
            "ops",
            "linux",
            "awk"
        ],
        "slug": "awk-base-compute",
        "gitcomment": true,
        "category": "ops"
    },
    {
        "title": "给博客加上HTTPS",
        "uri": "post/给博客加上https",
        "content": "https     https           https                                                       https   Let s Encrypt Let s Encrypt         HTTPS                  CA          Let s Encrypt      CA      Let s Encrypt                           Let s Encrypt   Nginx        HTTPS       Certbot Let s Encrypt                        Let s Encrypt          yum install certbot       certbot certonly   email icnych gmail com   agree tos   webroot  w  var www blogs  d blog qikqiak com      w          d                                                    etc letsencrypt live blog qikqiak com         ls  etc letsencrypt live blog qikqiak com  cert pem chain pem fullchain pem privkey pem README           Nginx   https                 Nginx          443     SSL    SSL                    server   listen 443  ssl on  ssl_certificate  etc letsencrypt live blog qikqiak com fullchain pem  sslcertificatekey  etc letsencrypt live blog qikqiak com privkey pem  server_name blog qikqiak com  root  home notes apps blog  index index html              Nginx      nginx  s reload       https   blog qikqiak com                      http   blog qikqiak com    http           http   https                   301                   server   listen 80  server_name blog qikqiak com  rewrite        https    host 1 permanent    server   listen 443  ssl on  ssl_certificate  etc letsencrypt live blog qikqiak com fullchain pem  sslcertificatekey  etc letsencrypt live blog qikqiak com privkey pem  server_name blog qikqiak com  root  home notes apps blog  index index html                   https             Let s Encrypt        90                  certbot                             crontab            crontab  l 30 5 1     root  usr bin certbot renew   renew hook   usr sbin nginx  s reload",
        "objectID": "post/给博客加上https",
        "date": "2017-11-06T00:00:00.000Z",
        "tags": [
            "https",
            "nginx",
            "ops"
        ],
        "slug": "make-https-blog",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/15802194_206063646464303_2027400919364141056_n.jpg",
                "desc": "普吉岛@泰国 JANUARY 8,2017"
            }
        ],
        "category": "ops"
    },
    {
        "title": "自定义django admin后台的action",
        "uri": "post/自定义django-admin后台的action",
        "content": "django                 admin                                django admin                  action              action                              class PhotoDescAdmin admin ModelAdmin   def pub_time self  obj   return obj photo pub_time strftime   Y  m  d   pubtime shortdescription              def make_published self  request  queryset   queryset update enabled True  makepublished shortdescription                   listdisplay     id    pubtime    category    photo    description    userid    username    enabled    created_at   listfilter     createdat    category    search_fields     description    ordering      created_at    rawidfields     photo    category     actions    make_published         make_published        PhotoDescAdmin  actions         django admin     photodesc         action",
        "objectID": "post/自定义django-admin后台的action",
        "date": "2014-07-02T00:00:00.000Z",
        "tags": [
            "django",
            "admin",
            "action"
        ],
        "slug": "custom-django-admin-actions",
        "category": "django",
        "gitcomment": true
    }
]